{"version":3,"sources":["Images/math.jpg","Images/hommeordi.jpg","Images/ecriture.jpg","components/Navbar/Navbar.js","components/Header/Header.js","components/Footer/Footer.js","utils/index.js","components/PrivateRoute.js","components/PublicRoute.js","components/Home/Home.js","components/Login/Login.js","components/Profil/Profile.js","components/Register/Register.js","components/Admin/Admin.js","components/Profil/Settings.js","components/Cours/Cours.js","components/Cours/Addlesson.js","components/Cours/MesCours.js","components/Juridique/Juridique.js","components/Cours/LeconPrecise.js","components/Cours/Modification.js","components/Cours/ChapterModification.js","reducer/userReducer.js","components/Cours/AddQuiz.js","components/Cours/CourPrecis.js","App.js","serviceWorker.js","index.js","Images/logoFeeDesMaths.png"],"names":["module","exports","toast","configure","NavBar","cookies","Cookies","useContext","UserContext","state","dispatch","history","useHistory","className","id","key","Math","random","to","localStorage","getItem","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","rang","rank","JSON","parse","role","aria-haspopup","aria-labelledby","onClick","clear","remove","path","push","info","autoClose","renderList","Header","src","logo","alt","Footer","isLogin","get","PrivateRoute","Component","component","rest","render","props","PublicRoute","restricted","Home","useEffect","fetch","headers","Authorization","then","res","json","result","tokenOk","Carrousel","data-ride","data-slide-to","ecriture","height","mathe","hommeordi","href","data-slide","aria-hidden","Txt","width","frameBorder","allow","allowFullScreen","Login","useState","email","setEmail","password","setPassword","is_fired","enterPressed","event","postData","method","body","stringify","data","error","set","token","expires","Date","now","setItem","user","payload","success","catch","err","console","log","viewBox","fill","xmlns","fillRule","d","placeholder","value","onChange","e","target","onKeyDown","name","Profile","progression","setProgression","matiere","setMatiere","progressionG","setProgressionG","chapterName","progress","forEach","mat","ele","subject","unshift","notes","setNotes","matiereNotes","setMatiereNotes","notesG","setNotesG","note","class","map","item","cours","i","length","items","chapterTitle","style","aria-valuenow","aria-valuemin","aria-valuemax","lessonTitle","Signup","setName","message","Admin","idValue","newRank","setData","errorMessage","setErrorMessage","setAllow","users","closePopUp","index","document","getElementById","display","window","onclick","dataSize","tabLesson","userId","popUpDel","uid","newUsers","filter","delUser","defaultValue","inputState","options","selectedIndex","inputId","rankModification","config","process","Settings","emailAddress","setEmailAddress","firebase","apps","initializeApp","auth","sendPasswordResetEmail","Cours","subjects","setsubjects","setErrorMessageChapter","setAllowChapters","chapters","chapterId","color","illustration","IllustrationSetUp","texContent","description","dotenv","Addlesson","chapitre","setChapitre","setChapters","url","setUrl","storage","deleteFile","imagePath","replace","indexOfEndPath","indexOf","substring","getPathStorageFromUrl","ref","child","delete","disabled","setCours","EditorState","createWithContent","ContentState","createFromText","setDesc","leconTitle","setLecon","lessNumber","setLessonNumber","lessonClip","setLessonClip","matiereForChapter","setMatiereForChapter","newChapter","setNewChapter","chapNumber","setChapNumber","desc","newSubject","setNewSubject","modal","chapter","editorState","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","toolbar","fontFamily","undefined","dropdownClassName","lesson","draftToHtml","convertToRaw","getCurrentContent","lessonNumber","createlesson","file","imageExtension","split","filename","toString","substr","locationRef","put","on","snapshot","per","bytesTransferred","totalBytes","getDownloadURL","submitButton","files","max","toLocaleLowerCase","chapterIllustration","chapterDesc","createChapter","createSubject","MesCours","mesCours","chapitres","setChapitres","mesChapitre","closePopUpChap","chapitresSize","tab","mesCoursSize","lessonId","postId","newCours","deletePost","lessonContent","chapterNumber","popUpDelChap","myChapterId","deleteChapter","Juridique","LeconPrecise","useParams","setLesson","setNote","getScore","questions","setQuestions","showNote","displayLessons","displayQuestions","setScore","sendQuizAnswer","empty","checkBox","checkBox2","checkBox3","checkBox4","checked","totalScore","nbrCorrectAns","answer","y","finalScore","toFixed","showScore","clip","srcId","match","youtube_parser","showClip","goToChapter","quest","question","questionNumber","optionA","optionB","optionC","optionD","Modification","setLeconTitle","setClip","coursHTML","convertFromHTML","createFromBlockArray","contentBlocks","entityMap","leconId","ChapterModification","setChapterNumber","setChapterTitle","imageName","getName","replaceIllustration","showIllustration","reducer","action","Addquiz","lecon","setQuestionNumber","setQuestion","answersA","setAnswersA","answersB","setAnswersB","answersC","setAnswersC","answersD","setAnswersD","checkCorrectAnswer","postQuiz","a","parseInt","createQuestion","lessons","setLessons","setErrorMessageLesson","existingQuiz","setExistingQuiz","displayLesson","CoursPrecis","coursId","buttonUsed","setButtonUsed","percentage","setPercentage","chapterProgression","searchQuiz","postedByName","lecons","createContext","Routing","playload","exact","Register","Mescours","App","useReducer","Provider","Boolean","location","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bea92e31.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/math.42b49eee.jpg\";","module.exports = __webpack_public_path__ + \"static/media/hommeordi.899403c3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ecriture.28a8a03f.jpg\";","import React, {useContext} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport './Navbar.css';\r\nimport {UserContext} from '../../App'\r\nimport Cookies from 'universal-cookie';\r\n\r\n\r\n// eslint-disable-next-line\r\nimport firebase from '@firebase/app'\r\n\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css'; \r\ntoast.configure()\r\n\r\nconst NavBar = () =>{\r\n    const cookies = new Cookies()\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const renderList=()=>{\r\n        let rang\r\n        if(state){\r\n            rang = state.rank\r\n        }\r\n        if(localStorage.getItem(\"user\")){\r\n            const user = JSON.parse(localStorage.getItem(\"user\"))\r\n            rang = user.rank\r\n        }\r\n        \r\n        // fetch('/api/checkRank',{\r\n        //     headers:{\r\n        //         Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        //     }\r\n        // })\r\n        // .then(res=>res.json())\r\n        // .then((result)=>{\r\n        //     console.log(result.rank)\r\n        //     rang = result.rank\r\n        // })\r\n        // .catch(err=>{\r\n        //     console.log(err)\r\n        // })\r\n\r\n        if(rang === \"student\"){\r\n            return [\r\n                <div key={Math.random()} className=\"options_navbar\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/\">Accueil <span className=\"sr-only\">(current)</span></Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/cours\">Cours</Link>\r\n                    </li>\r\n                    <li className=\"nav-item dropdown\">\r\n                        <Link to=\"/profile\" className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        profile\r\n                        </Link>\r\n                        <div className=\"dropdown-menu dropdown_menu_navbar\" aria-labelledby=\"navbarDropdown\">\r\n                            <Link className=\"dropdown-item\" to=\"/profile\">Profil</Link> {/*Avancement des cours*/}\r\n                            <Link className=\"dropdown-item\" to=\"/settings\">Paramtres</Link> {/*modification mot de passe*/}\r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <button className=\"dropdown-item\" \r\n                            onClick={()=>{\r\n                                localStorage.clear()\r\n                                cookies.remove('jwt', {path:'/'})\r\n                                dispatch({type:\"CLEAR\"})\r\n                                history.push('/login')\r\n                                toast.info('Logged out !',{autoClose: 3000})\r\n                            }}\r\n                            >Logout</button>\r\n                        </div>\r\n                    </li>\r\n                </div>\r\n            ]\r\n        }\r\n        if(rang === \"professor\"){\r\n            return[\r\n                <div key={Math.random()} className=\"options_navbar\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/\">Accueil <span className=\"sr-only\">(current)</span></Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/cours\">Cours</Link>\r\n                    </li>\r\n                    <li className=\"nav-item dropdown\">\r\n                        <Link to=\"/profile\" className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        profile\r\n                        </Link>\r\n                        <div className=\"dropdown-menu dropdown_menu_navbar\" aria-labelledby=\"navbarDropdown\">\r\n                            <Link className=\"dropdown-item\" to=\"/createpost\">Ajouter un cours</Link> {/*only if you're professor*/}\r\n                            <Link className=\"dropdown-item\" to=\"/createQuiz\">Ajouter un quiz</Link> {/*only if you're professor*/}\r\n                            <Link className=\"dropdown-item\" to=\"/mypost\">Mes leons</Link> {/*only if you're professor*/}\r\n                            <Link className=\"dropdown-item\" to=\"/settings\">Paramtres</Link> {/*modification mot de passe*/}\r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <button className=\"dropdown-item\" \r\n                            onClick={()=>{\r\n                                localStorage.clear()\r\n                                cookies.remove('jwt', {path:'/'})\r\n                                dispatch({type:\"CLEAR\"})\r\n                                history.push('/login')\r\n                                toast.info('Logged out !',{autoClose: 3000})\r\n                            }}\r\n                            >Logout</button>\r\n                        </div>\r\n                    </li>\r\n                </div>\r\n            ]\r\n        }\r\n        if(rang === \"admin\"){\r\n            return[\r\n                <div key={Math.random()} className=\"options_navbar\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/\">Accueil <span className=\"sr-only\">(current)</span></Link>\r\n                    </li>\r\n                    <li className=\"nav-item dropdown\">\r\n                        <Link to=\"/profile\" className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        profile\r\n                        </Link>\r\n                        <div className=\"dropdown-menu dropdown_menu_navbar\" aria-labelledby=\"navbarDropdown\">\r\n                            <Link className=\"dropdown-item\" to=\"/admin\">Admin page</Link>\r\n                            <Link className=\"dropdown-item\" to=\"/settings\">Paramtres</Link>\r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <button className=\"dropdown-item\" \r\n                            onClick={()=>{\r\n                                localStorage.clear()\r\n                                cookies.remove('jwt', {path:'/'})\r\n                                dispatch({type:\"CLEAR\"})\r\n                                history.push('/login')\r\n                                toast.info('Logged out !',{autoClose: 3000})\r\n                            }}\r\n                            >Logout</button>\r\n                        </div>\r\n                    </li>\r\n                </div>\r\n            ]\r\n        }\r\n        else{\r\n            return [\r\n                <div key={Math.random()} className=\"options_navbar\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/login\">Login</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/register\">sign up</Link>\r\n                    </li>\r\n                </div>\r\n            ]\r\n        }\r\n    }\r\n\r\n    return( \r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\" id=\"nav_navbar\" key={Math.random()}>\r\n            <Link className=\"navbar-brand\" \r\n            to={\r\n                state?\"/\":\"/login\",\r\n                localStorage.getItem(\"user\")?\"/\":\"/\"\r\n            }></Link>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n\r\n            <div className=\"collapse navbar-collapse \" id=\"navbarSupportedContent\">\r\n                <ul className=\"navbar-nav mr-auto\" id=\"test\">\r\n                    {renderList()}\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default NavBar","import React from 'react'\r\nimport './Header.css'\r\nimport logo from '../../Images/logoFeeDesMaths.png'\r\n\r\nconst Header = () =>{\r\n    return(\r\n        <header>\r\n                <div className=\"row\"id=\"head\">\r\n                    <div className=\"col-12\">\r\n                        <h1 id=\"h1\">Fe des maths</h1>\r\n                        <h2 id=\"h2\">- Site d'apprentissage pour MPSI -</h2>\r\n                        <img src={logo} alt= \"logo\" id=\"logo\"/>\r\n                    </div>\r\n                </div>\r\n            \r\n        </header>\r\n    )\r\n} \r\nexport default Header","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './Footer.css'\r\nimport logo from '../../Images/logoFeeDesMaths.png'\r\n\r\n\r\nconst Footer = () =>{\r\n    return(\r\n        <footer>\r\n            <div className=\"row\" id=\"bas\">\r\n                <div className=\"col-12  \">\r\n                    <img src={logo} alt=\"logo\" id=\"logofoo\" />\r\n                </div>\r\n                <div className=\"col-md-4 text-center \">\r\n                    <div className=\"textFooter\">\r\n                        <Link to=\"/juridique\">Mentions lgales</Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-4 text-center \">\r\n                    <p className=\"textFooter\">Fe des maths</p>\r\n                </div>\r\n                <div className=\"col-md-4 text-center \">\r\n                    <p className=\"textFooter\">Site internet du projet 9</p>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer","import Cookies from 'universal-cookie';\nconst TOKEN_KEY = 'jwt';\n\nexport const isLogin = () => {\n    const cookies = new Cookies()\n    if (cookies.get(TOKEN_KEY)) {\n        return true;\n    }\n    return false;\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isLogin } from '../utils';\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return (\n\n        // Show the component only when the user is logged in\n        // Otherwise, redirect the user to /signin page\n        <Route {...rest} render={props => (\n            isLogin() ?\n                <Component {...props} />\n            : <Redirect to=\"/login\" />\n        )} />\n    );\n};\n\nexport default PrivateRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isLogin } from '../utils';\n\nconst PublicRoute = ({component: Component, restricted, ...rest}) => {\n    return (\n        // restricted = false meaning public route\n        // restricted = true meaning restricted route\n        <Route {...rest} render={props => (\n            isLogin() && restricted ?\n                <Redirect to=\"/\" /> //exact\n            : <Component {...props} />\n        )} />\n    );\n};\n\nexport default PublicRoute;","import React, {useEffect, useState, useContext, Component} from 'react'\r\nimport {useParams, useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport Cookies from 'universal-cookie';\r\n\r\n\r\nimport './Home.css';\r\nimport mathe from '../../Images/math.jpg'\r\nimport hommeordi from '../../Images/hommeordi.jpg'\r\nimport ecriture from '../../Images/ecriture.jpg'\r\n\r\n// class Home extends Component {\r\n//     render() {\r\n//         return (\r\n//             <div>\r\n//                 <testToken />\r\n//                 <Carrousel />\r\n//                 <Txt />\r\n//             </div>\r\n\r\n//         );\r\n//     }\r\n// } export default Home\r\n\r\nconst Home = ()=>{\r\n    const cookies = new Cookies()\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Carrousel />\r\n            <Txt />\r\n        </div>\r\n\r\n    );\r\n}\r\nexport default Home\r\n\r\nexport const Carrousel = () => {\r\n    // mettre du code js ici si besoin\r\n    return (\r\n        <div className=\"col-10 offset-1 \" id=\"caroustyle\">\r\n            <div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\r\n                <ol className=\"carousel-indicators\">\r\n                    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" className=\"active\"></li>\r\n                    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\r\n                    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\r\n                </ol>\r\n                <div className=\"carousel-inner\">\r\n                    <div className=\"carousel-item active\">\r\n                        <img className=\"d-block w-100\" src={ecriture} height=\"300px\" alt=\"Second slide\"></img>\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src={mathe} height=\"300px\" alt=\"First slide\"></img>\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src={hommeordi} height=\"300px\" alt=\"First slide\"></img>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n                <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                <span className=\"sr-only\">Previous</span>\r\n            </a>\r\n            <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n                <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                <span className=\"sr-only\">Next</span>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Txt = () => {\r\n    return (\r\n        <div>\r\n            <div className=\"row\">\r\n                <div className=\"col-10 offset-1\" id=\"ligne\">\r\n                    <p className=\"pHome\">Bienvenue sur Fe des maths ! Sur ce site vous trouverez des cours sous format vido avec de nombreux quizz dapplications ainsi que des exercices avec corrections. Bienvenue dans le monde merveilleux des mathmatiques ! Bonne visite et bons progrs !</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\" id=\"data\">\r\n                <div className=\"col-4 offset-1\" id=\"margeleft\">\r\n                    <p className=\"pHome\">Non ! Vous ntes pas nul en maths ! Si vos rsultats vous font penser le contraire, beaucoup de professeurs laffirment : personne nest vraiment  nul  en mathmatiques. Si vous pensez toujours le contraire, il faut comprendre que cette matire nest faite que de logique. Et cest cette dernire que vous devez apprendre  dchiffrer. Avec un peu de travail sur Fe des maths, vous parviendrez srement  rhausser votre moyenne en maths !</p>\r\n                </div>\r\n                <div className=\"col-6\" id=\"video\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/meik4LcQStI\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n                    </div>\r\n                    <p className=\"pHome\">Le cours de maths a t compliqu ? Vous ne lavez pas compris ou peu ? Cela arrive videmment. Et vous vous dtes que vous comprendrez mieux au prochain cours ? Cest possible, cependant la meilleure solution pour vous reste de creuser la question vous-mme en prenant le temps. Servez-vous de nos cours vidos et quizz ! Une fois le cours assimil, jetez-vous dans le bain avec les exercies et prenez le risque de faire des erreurs. Les exercices corrigs vous permettront de les identifier pour mieux les comprendre. Ceci est probablement lune des meilleures mthodes pour progresser en maths !</p>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\n","import React,{useState, useContext} from 'react'\r\nimport './login.css'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport {toast} from 'react-toastify';  \r\nimport Cookies from 'universal-cookie';\r\nimport logo from '../../Images/logoFeeDesMaths.png'\r\nimport 'react-toastify/dist/ReactToastify.css'; \r\ntoast.configure()\r\n\r\nconst Login = ()=>{\r\n    // eslint-disable-next-line\r\n    const {state, dispatch}= useContext(UserContext)\r\n    const [email, setEmail]= useState(\"\")\r\n    const [password, setPassword]= useState(\"\")\r\n    const history = useHistory()\r\n\r\n    const cookies = new Cookies();\r\n\r\n    var is_fired = false;\r\n    const enterPressed = (event)=>{\r\n        if(event.key === \"Enter\" && is_fired===false){\r\n            is_fired = true\r\n            postData()\r\n        }\r\n    }\r\n\r\n    const postData = ()=>{\r\n        fetch(\"/api/login\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n            .then(data => {\r\n                // console.log(data)\r\n                if(data.error){\r\n                    // toast(data.error)\r\n                    if(data.error.email){\r\n                        // console.log(data.error.email)\r\n                        toast.error(data.error.email, {autoClose: 3000})\r\n                    }\r\n                    if(data.error.password){\r\n                        // console.log(data.error.password)\r\n                        toast.error(data.error.password, {autoClose: 3000})\r\n                        // data.error.email\r\n                    }\r\n                    toast.error(data.error, {autoClose: 3000})\r\n                    // window.alert(data.error)\r\n                }\r\n                else{\r\n\r\n                    // \r\n                    // localStorage.setItem(\"jwt\",data.token)\r\n                    cookies.set('jwt', data.token, { path: '/' , expires: new Date(Date.now()+3600000)})\r\n                    // console.log(cookies.get('jwt'))\r\n                    localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n                    // \r\n\r\n                    dispatch({type:\"USER\", payload:data.user})\r\n                    toast.success('signed in', {autoClose: 3000})\r\n                    // window.alert(\"signed in\")\r\n                    history.push('/')\r\n                }\r\n            }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    return(\r\n    <div className=\"container h-100\">\r\n        <div className=\"d-flex justify-content-center h-100\">\r\n            <div id=\"user_card_login\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <div id=\"brand_logo_container_login\">\r\n                        <img src={logo} id=\"brand_logo_login\" alt=\"Logo\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\" id=\"form_container_login\">\r\n                    <form>\r\n                        <div className=\"input-group mb-3\">\r\n                            <div className=\"input-group-append\">\r\n                                <span className=\"input-group-text\">\r\n                                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-envelope\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z\"/>\r\n                                </svg>\r\n                                </span>\r\n                            </div>\r\n                            <input\r\n                            className=\"form-control input_user\"\r\n                            type=\"email\"\r\n                            placeholder=\"email\"\r\n                            value={email}\r\n                            onChange={(e)=>setEmail(e.target.value)}\r\n                            onKeyDown={(e) => enterPressed(e)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"input-group mb-2\">\r\n                            <div className=\"input-group-append\">\r\n                                <span className=\"input-group-text\">\r\n                                    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-key-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path fillRule=\"evenodd\" d=\"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>\r\n                                    </svg>\r\n                                </span>\r\n                            </div>\r\n                            <input\r\n                            id=\"password_input\"\r\n                            className=\"form-control input_pass\"\r\n                            type=\"password\"\r\n                            placeholder=\"password\"\r\n                            value={password}\r\n                            onChange={(e)=>setPassword(e.target.value)}\r\n                            onKeyDown={(e) => enterPressed(e)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-center mt-3 \" id=\"login_container\">\r\n                            <button type=\"button\" name=\"button\" className=\"btn\" id=\"login_btn\" onClick={()=> postData()}>Login</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className=\"mt-4\">\r\n                    <div className=\"d-flex justify-content-center links\">\r\n                        Don't have an account? <Link to=\"/register\" className=\"ml-2\">Sign Up</Link>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center links\">\r\n                        <Link to=\"/settings\">Forgot your password?</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    )\r\n}\r\n\r\n\r\nexport default Login","import React, {useState, useEffect, useContext}from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport Cookies from 'universal-cookie';\r\nimport './profil.css'\r\n\r\nconst Profile = ()=>{\r\n    const cookies = new Cookies()\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n\t}\r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n    const [progression ,setProgression] = useState([])\r\n    const [matiere ,setMatiere] = useState([])\r\n    const [progressionG ,setProgressionG] = useState([])\r\n    // let progression = []\r\n    useEffect(()=>{\r\n        fetch('/api/getGlobalProgression',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            setProgression(result.progression)\r\n            setMatiere(result.chapterName)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[])\r\n    useEffect(()=>{\r\n        // console.log(progression, matiere)\r\n        var progress = []\r\n        if(progression){\r\n            matiere.forEach(mat=>{\r\n                progress[mat] = []\r\n            })\r\n            progression.forEach(ele =>{\r\n                // console.log(ele)\r\n                progress[ele.subject].unshift(ele)\r\n            })\r\n            // console.log(\"progression : \", progress)\r\n            setProgressionG(progress)\r\n        }\r\n        else{\r\n            return\r\n        }\r\n    },[matiere])\r\n\r\n\r\n    const [notes ,setNotes] = useState([])\r\n    const [matiereNotes ,setMatiereNotes] = useState([])\r\n    const [notesG ,setNotesG] = useState([])\r\n    useEffect(()=>{\r\n        fetch('/api/getScores',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            setNotes(result.notes)\r\n            setMatiereNotes(result.chapterName)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[])\r\n    useEffect(()=>{\r\n        // console.log(progression, matiere)\r\n        var note = []\r\n        if(notes){\r\n            matiereNotes.forEach(mat=>{\r\n                note[mat] = []\r\n            })\r\n            notes.forEach(ele =>{\r\n                // console.log(ele)\r\n                note[ele.subject].unshift(ele)\r\n            })\r\n            // console.log(\"notes : \",note)\r\n            setNotesG(note)\r\n        }\r\n        else{\r\n            return\r\n        }\r\n    },[matiereNotes])\r\n\r\n    const showProgression = ()=>{\r\n        if(progressionG[matiere[0]]){\r\n            return(\r\n                <>\r\n                    {matiere.map(item=>{\r\n                        // console.log(item)\r\n                        const cours = []\r\n                        for(var i = 0; i < progressionG[item].length; i++){\r\n                            cours.push(progressionG[item][i])\r\n                        }\r\n                        return (\r\n                            <div key={Math.random()}>\r\n                                <h1>{item}</h1>\r\n                                {/* {console.log(cours)} */}\r\n                                {cours.map(items=>{\r\n                                    // console.log(items)\r\n                                    return (\r\n                                        <div key={Math.random()} id=\"avancement\">\r\n                                            <h3>{items.chapterTitle}</h3>\r\n                                            <div className=\"progress\" id=\"progressBarLesson\" style={{height: \"40px\"}}>\r\n                                                <div className=\"progress-bar progress-bar-striped\" style={{width: `${items.progression}%`}} role=\"progressbar\"\r\n                                                    aria-valuenow={items.progression} aria-valuemin=\"0\" aria-valuemax=\"100\">Progression\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <h1>vous n'avez fait aucune leon</h1>\r\n            )\r\n        }\r\n    }\r\n    const showScore = ()=>{\r\n        if(notesG[matiereNotes[0]]){\r\n            return(\r\n                <>\r\n                {matiereNotes.map(item=>{\r\n                    const cours = []\r\n                    for(var i = 0; i < notesG[item].length; i++){\r\n                        cours.push(notesG[item][i])\r\n                    }\r\n                    return(\r\n                        <div key={Math.random()} id=\"avancement\">\r\n                            <h2>{item}</h2>\r\n                            <table className=\"table\" id=\"tableProfile\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>matieres</th>\r\n                                        <th>Chapitres</th>\r\n                                        <th>Lecons</th>\r\n                                        <th>Notes</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                {/* {console.log(\"test : \",cours)} */}\r\n                                {cours.map(items=>{\r\n                                    return(\r\n                                        <tbody key={Math.random()}>\r\n                                            <tr>\r\n                                                <td>{items.subject}</td>\r\n                                                <td>{items.chapterTitle}</td>\r\n                                                <td>{items.lessonTitle}</td>\r\n                                                <td>{`${items.note}/20`}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    )\r\n                                })}\r\n                            </table>\r\n                        </div>\r\n                    )\r\n                })}\r\n                </>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <h1>vous n'avez pas encore de note</h1>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    if(progressionG[matiere[0]] || notesG[matiereNotes[0]]){\r\n        return(\r\n        <div className=\"displayProfile\">\r\n            <div class=\"col-10 offset-1\" id=\"Progress\">\r\n                <h1>Progression des chapitres</h1>\r\n                <div id=\"detail\">\r\n                    {showProgression()}\r\n                </div>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"Progress\">\r\n                <h1>Notes Quiz</h1>\r\n                <div className=\"table-responsive\" id=\"detail\">\r\n                    {showScore()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>Avez vous dj valid une leon ou fait un quiz ?</h1>\r\n                <h2>chargement de la base de donne</h2>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile","import React,{useState} from 'react'\r\nimport './register.css'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport logo from '../../Images/logoFeeDesMaths.png'\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css'; \r\ntoast.configure()\r\n\r\nconst Signup = ()=>{\r\n    const [name, setName]= useState(\"\")\r\n    // const [isenId, setIsenId]= useState(\"\")\r\n    const [email, setEmail]= useState(\"\")\r\n    const [password, setPassword]= useState(\"\")\r\n    const history = useHistory()\r\n\r\n    const postData = ()=>{\r\n        // if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email)){\r\n        //     // toast('Invalid Email !')\r\n        //     toast.error('Invalid Email !', {autoClose: 3000})\r\n        //     // window.alert('Invalid Email !')\r\n        //     return\r\n        // }\r\n        fetch(\"/api/register\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                // isenId,\r\n                email,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data => {\r\n            if(data.error){\r\n                // toast(data.error)\r\n                // console.log(data.error)\r\n                toast.error(data.error, {autoClose: 3000})\r\n                if(data.error.name){\r\n                    toast.error(data.error.name, {autoClose: 3000})\r\n                }\r\n                if(data.error.email){\r\n                    toast.error(data.error.email, {autoClose: 3000})\r\n                }\r\n                if(data.error.password){\r\n                    toast.error(data.error.password, {autoClose: 3000})\r\n                }\r\n                \r\n                // window.alert(data.error)\r\n            }\r\n            else{\r\n                // toast(data.message)\r\n                toast.success(data.message, {autoClose: 3000})\r\n                // window.alert(data.message)\r\n                history.push('/login')\r\n            }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"container h-100\">\r\n        <div className=\"d-flex justify-content-center h-100\">\r\n            <div id=\"user_card_register\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <div id=\"brand_logo_container\">\r\n                        <img src={logo} id=\"brand_logo\" alt=\"Logo\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\" id=\"form_container\">\r\n                    <form>\r\n                    <div className=\"input-group mb-2\">\r\n                            <div className=\"input-group-append\">\r\n                                <span className=\"input-group-text\">\r\n                                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\r\n                                </svg>\r\n                                </span>\r\n                            </div>\r\n                            <input\r\n                            className=\"form-control input_user\"\r\n                            type=\"text\"\r\n                            placeholder=\"name\"\r\n                            value={name}\r\n                            onChange={(e)=>setName(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"input-group mb-2\">\r\n                            <div className=\"input-group-append\">\r\n                                <span className=\"input-group-text\">\r\n                                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-envelope\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z\"/>\r\n                                </svg>\r\n                                </span>\r\n                            </div>\r\n                            <input\r\n                            className=\"form-control input_email\"\r\n                            type=\"email\"\r\n                            placeholder=\"email\"\r\n                            value={email}\r\n                            onChange={(e)=>setEmail(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"input-group mb-2\">\r\n                            <div className=\"input-group-append\">\r\n                                <span className=\"input-group-text\">\r\n                                    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-key-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path fillRule=\"evenodd\" d=\"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>\r\n                                    </svg>\r\n                                </span>\r\n                            </div>\r\n                            <input\r\n                            className=\"form-control input_pass\"\r\n                            type=\"password\"\r\n                            placeholder=\"password\"\r\n                            value={password}\r\n                            onChange={(e)=>setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-center mt-3 \" id=\"register_container\">\r\n                            <button type=\"button\" name=\"button\" className=\"btn \" id=\"register_btn\" onClick={()=> postData()}>Register</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className=\"mt-4\">\r\n                    <div className=\"d-flex justify-content-center links\">\r\n                    Already have an account ?<Link to=\"/login\" className=\"ml-2\">Sign In</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Signup\r\n\r\n","import React, {useState, useEffect, useContext}from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport './Admin.css';\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css';  \r\ntoast.configure()\r\n\r\n// import {testExpiredToken} from './clearToken'\r\n\r\nconst Admin = () => {\r\n    const cookies = new Cookies()\r\n    const [data, setData] = useState([])\r\n    const [errorMessage, setErrorMessage] = useState([])\r\n    const [allow, setAllow] = useState([])\r\n\r\n    // eslint-disable-next-line\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const testExpiredToken = () => {\r\n            localStorage.clear()\r\n            //Clear Cookies\r\n            cookies.remove('jwt', {path:'/'})\r\n            // Clear Cookies\r\n            dispatch({type: \"CLEAR\"})\r\n            history.push('/login')\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n    // let accessToken\r\n    useEffect(() => {\r\n        fetch('/api/admin',{\r\n            headers:{\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")/*accessToken*/\r\n                \r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            if(result.allow === true){\r\n                setData(result.users)\r\n                setAllow(result.allow)\r\n            }\r\n            else{\r\n                setErrorMessage(result.error)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n\r\n    let idValue, newRank\r\n    const rankModification = () => {\r\n        const inputState = document.getElementById(\"inputState\")\r\n        if (inputState) {\r\n            newRank = inputState.options[inputState.selectedIndex].value\r\n        }\r\n        const inputId = document.getElementById(\"inputId\")\r\n        if (inputId) {\r\n            idValue = inputId.value\r\n            document.getElementById('inputId').value = \"\";\r\n        }\r\n        fetch(`/api/admin/rankChange`, {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n                // \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                userId: idValue,\r\n                newRank\r\n            })\r\n        }).then(res => res.json())\r\n        .then((result)=>{\r\n            // console.log(result)\r\n            if(result.allow === true){\r\n                setData(result.users)\r\n                // toast(result.message)\r\n                toast.success(result.message, {autoClose: 3000})\r\n            }\r\n            else{\r\n                // toast(result.error)\r\n                toast.error(result.error, {autoClose: 3000})\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n    const popUpDel = (index)=>{\r\n        const modal = document.getElementById(`popUpDel${index}`);\r\n        modal.style.display = \"block\";\r\n    }\r\n    const closePopUp = (index)=>{\r\n        const modal = document.getElementById(`popUpDel${index}`);\r\n        modal.style.display = \"none\";\r\n    }\r\n    window.onclick = function(event){\r\n        const dataSize = data.length\r\n        var tabLesson=[]\r\n        for(var i =0; i<dataSize; i++){\r\n            tabLesson[i] = document.getElementById(`popUpDel${i}`)\r\n        }\r\n        for(var i =0; i<dataSize; i++){\r\n            if (event.target == tabLesson[i]) {\r\n                // console.log(\"click\")\r\n                tabLesson[i].style.display = \"none\";\r\n            }\r\n        }\r\n    }\r\n\r\n    const delUser = (user, index)=>{\r\n        const uid = user.userId\r\n        fetch(`/api/delUserFirestore/${uid}`, {\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            // console.log(result)\r\n            // console.log(\"data : \",data)\r\n            if(result.allow === true){\r\n                const newUsers = data.filter(item=>{\r\n                    return item.userId !== uid\r\n                })\r\n                toast.success(result.message, {autoClose: 3000})\r\n                // console.log(newUsers)\r\n                setData(newUsers)\r\n                closePopUp(index)\r\n            }\r\n            else{\r\n                toast.error(result.error, {autoClose: 3000})\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    if(data.length > 0){\r\n        if(allow === true){\r\n            return(\r\n                <div className=\"adminClass\">\r\n                    <div>\r\n                        <h1>Utilisateurs</h1>\r\n                        <table className=\"table\" id=\"tableAdmin\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>user email</th>\r\n                                    <th>userId</th>\r\n                                    <th>rank</th>\r\n                                    <th>delete</th>\r\n                                </tr>\r\n                            </thead>\r\n                            \r\n                            {data.map((item,index)=>{\r\n                                return(\r\n                                    <tbody key={item.userId}>\r\n                                        <tr>\r\n                                            <td>{item.email}</td>\r\n                                            <td>{item.userId}</td>\r\n                                            <td>{item.rank}</td>\r\n                                            <td>\r\n                                                <button type=\"button\" className=\"btn btn-danger\" onClick={()=>{popUpDel(index)}}>\r\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n                                                        <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"></path>\r\n                                                        <path fillRule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"></path>\r\n                                                    </svg>\r\n                                                </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr id={`popUpDel${index}`} className=\"popUpDel\">\r\n                                            <th className=\"card\">\r\n                                                <span className=\"close\" onClick={()=>{closePopUp(index)}}>&times;</span>\r\n                                                <h1 className=\"card-title\">tes-vous sr de vouloir supprimer {item.email} ?</h1>\r\n                                                <button type=\"button\" className=\"btn btn-danger\" onClick={()=>{delUser(item, index)}}>\r\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n                                                        <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"></path>\r\n                                                        <path fillRule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"></path>\r\n                                                    </svg>\r\n                                                </button> \r\n                                            </th>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                )\r\n                            })}\r\n        \r\n        \r\n                        </table>\r\n                    </div>\r\n                    <div className=\"card\" id=\"modif-card\">\r\n                        <h1>Modification du rank</h1>\r\n                        <div id=\"formulaire\">\r\n                            <input \r\n                            type=\"text\"\r\n                            placeholder=\"userId\"\r\n                            id=\"inputId\"\r\n                            />\r\n                            <select id=\"inputState\" className=\"form-control\">\r\n                                <option value=\"student\" defaultValue=\"student\">Student</option>\r\n                                <option value=\"professor\">Professor</option>\r\n                                <option value=\"admin\">Admin</option>\r\n                            </select>\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={()=>rankModification()}>Modifier</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <h1>{errorMessage}</h1>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>Chargement de la base de donne</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Admin","import React,{useState} from 'react'\r\nimport './Settings.css'\r\nimport firebase from '@firebase/app'\r\n// eslint-disable-next-line\r\nimport auth from '@firebase/auth'\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css'; \r\ntoast.configure()\r\n\r\nconst config = {\r\n    \"apiKey\": process.env.REACT_APP_API_KEY,\r\n    \"authDomain\": process.env.REACT_APP_API_authDomain,\r\n    \"databaseURL\": process.env.REACT_APP_API_databaseURL,\r\n    \"projectId\": process.env.REACT_APP_API_projectId,\r\n    \"storageBucket\": process.env.REACT_APP_API_storageBucket,\r\n    \"messagingSenderId\": process.env.REACT_APP_API_messagingSenderId,\r\n    \"appId\": process.env.REACT_APP_API_appId,\r\n    \"measurementId\": process.env.REACT_APP_API_measurementId\r\n}\r\n\r\n\r\nconst Settings = ()=>{\r\n    const [emailAddress, setEmailAddress] = useState(\"\")\r\n    if(!firebase.apps.length){\r\n        firebase.initializeApp(config)\r\n    }  \r\n    const resetPassword = ()=>{\r\n        // console.log(emailAddress)\r\n        firebase.auth().sendPasswordResetEmail(emailAddress)\r\n        .then(()=> {\r\n            document.getElementById('email').value = \"\"\r\n            toast.success(\"an email have been send\")\r\n\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n            toast.error(err.message, {autoClose: 3000})\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"container h-100\">\r\n            <div className=\"d-flex justify-content-center h-100\">\r\n                <div id=\"user_card_setting\">\r\n                    <div className=\"d-flex justify-content-center form_container\">\r\n                        <form>\r\n                            <h1 id=\"title\">Settings</h1>\r\n                            <p>You can reset your password, enter your email below</p>\r\n                            <div className=\"input-group mb-3\">\r\n                                <input\r\n                                class=\"form-control\"\r\n                                type=\"texte\"\r\n                                placeholder=\"Email\"\r\n                                id=\"email\"\r\n                                onChange={(e)=>{setEmailAddress(e.target.value)}}\r\n                                />  \r\n                            </div>\r\n                            <div className=\"d-flex justify-content-center mt-3\" id=\"setting_container\">\r\n                                <button type=\"button\" className=\"btn\" id=\"resetPassword_btn\" onClick={()=>{resetPassword()}}>Reset Password</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings","import React, {useState, useEffect, useContext} from 'react'\r\nimport './Cours.css';\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport { UserContext } from '../../App'\r\nimport { InlineTex } from 'react-tex'\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst Cours = ()=>{\r\n    const cookies = new Cookies()\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n    const [matiere, setMatiere] = useState(\"\")\r\n    const [subjects, setsubjects] = useState([])\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n    const [allow, setAllow] = useState(\"\")\r\n    useEffect(()=>{\r\n        fetch('/api/subjectsCours',{\r\n            headers:{\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.allow === true){\r\n                setsubjects(result.subjects)\r\n                setAllow(result.allow)\r\n                setMatiere(\"\")\r\n            }\r\n            else{\r\n                setErrorMessage(result.error)\r\n            }\r\n        })\r\n    },[])\r\n    \r\n    const [chapters, setChapters] = useState([])\r\n    const [errorMessageChapter, setErrorMessageChapter] = useState(\"\")\r\n    const [allowChapters, setAllowChapters] = useState(\"\")\r\n    const [data, setData] = useState([])\r\n    useEffect(()=>{\r\n        if(matiere === \"\" || matiere === \"undifined\"){\r\n            fetch('/api/getCourse',{\r\n                headers:{\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                }\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                // console.log(matiere)\r\n                if(result.allow === true){\r\n                    // console.log(result.chapters)\r\n                    setData(result.chapters)\r\n                    setAllowChapters(result.allow)\r\n                }\r\n                else{\r\n                    setErrorMessageChapter(result.error)\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            // console.log(matiere)\r\n            fetch('/api/getCourseSubject',{\r\n                method: \"post\",\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\",\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                },\r\n                body:JSON.stringify({\r\n                    subject:matiere\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                if(result.allow === true){\r\n                    // console.log(result.chapters)\r\n                    setData(result.chapters)\r\n                    setAllowChapters(result.allow)\r\n                }\r\n                else{\r\n                    setErrorMessageChapter(result.error)\r\n                }\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    },[matiere])\r\n\r\n    const IllustrationSetUp = (illustration)=>{\r\n        if(illustration != \"\"){\r\n            return(\r\n                <img className=\"card-img\" id=\"img\" src={illustration} alt=\"Cardimagecap\"></img>\r\n            )\r\n        }\r\n    }\r\n\r\n    if(data.length > 0){\r\n        return(\r\n            <div className=\"col-10 offset-1\" id=\"listecours\">\r\n                <h1 id=\"title_course\">Tous les cours</h1>\r\n                <div id=\"lessonSelection\">\r\n                    <div className=\"matiereSelection\">\r\n                    <h2>Matieres</h2>\r\n                    <select id=\"inputStateMatiere\" className=\"form-control\" onChange={(e)=>{setMatiere(e.target.value)}}>\r\n                        <option className=\"defaultValue\" value=\"undifined\">Select subject</option>\r\n                        {subjects.map(subject=>{\r\n                            return(\r\n                                <option key={subject} value={subject}>{subject}</option>\r\n                            )\r\n                        })}\r\n                    </select>\r\n                    {/* </div> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"allCard\" >\r\n                {\r\n                    data.map(item=>{\r\n                        // console.log(item)\r\n                        return(\r\n                            <div id=\"user_card_course\" key={item.chapterId}>\r\n                            <div id=\"lecon\" className={\"card\" + item.subject}>\r\n                                <h1><font color=\"#E22146\">{item.subject}: {item.chapterTitle}</font></h1>\r\n                                {\r\n                                    IllustrationSetUp(item.illustration)\r\n                                }\r\n                                <div className=\"card-body\">\r\n                                    <InlineTex texContent={item.description}/>\r\n                                </div>\r\n                                {/* {\r\n                                    getLesson(item.subject, item.chapterId)\r\n                                } */}\r\n\r\n                                <Link to={\"/cours/\" +item.chapterId} className=\"btn\" id=\"seecourse_btn\">Voir le chapitre</Link>\r\n                            </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>Chargement de la base de donne</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Cours","import React, {useState, useEffect, useContext} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport { InlineTex } from 'react-tex'\r\nimport './Addlesson.css'\r\nimport dotenv from 'dotenv'\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport {Editor} from 'react-draft-wysiwyg';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport {EditorState, convertToRaw, ContentState} from 'draft-js';\r\n\r\nimport firebase from '@firebase/app'\r\n// eslint-disable-next-line\r\nimport storage from '@firebase/storage'\r\n\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css'; \r\ntoast.configure()\r\n\r\ndotenv.config()\r\n\r\nconst config = {\r\n    \"apiKey\": process.env.REACT_APP_API_KEY,\r\n    \"authDomain\": process.env.REACT_APP_API_authDomain,\r\n    \"databaseURL\": process.env.REACT_APP_API_databaseURL,\r\n    \"projectId\": process.env.REACT_APP_API_projectId,\r\n    \"storageBucket\": process.env.REACT_APP_API_storageBucket,\r\n    \"messagingSenderId\": process.env.REACT_APP_API_messagingSenderId,\r\n    \"appId\": process.env.REACT_APP_API_appId,\r\n    \"measurementId\": process.env.REACT_APP_API_measurementId\r\n}\r\n\r\n\r\nconst Addlesson = () => {\r\n    const cookies = new Cookies()\r\n\r\n    const [chapitre, setChapitre] = useState(\"\")\r\n    const [matiere, setMatiere] = useState(\"\")\r\n\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n    /// GET MATIERES CHAPITRES\r\n    const [subjects, setsubjects] = useState([])\r\n    const [errorMessage, setErrorMessage] = useState([])\r\n    const [allow, setAllow] = useState([])\r\n    useEffect(()=>{\r\n        fetch('/api/subjects',{\r\n            headers:{\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            if(result.allow === true){\r\n                setsubjects(result.subjects)\r\n                setAllow(result.allow)\r\n            }\r\n            else{\r\n                setErrorMessage(result.error)\r\n            }\r\n        })\r\n    },[])\r\n\r\n    const [chapters, setChapters] = useState([])\r\n    const [errorMessageChapter, setErrorMessageChapter] = useState([])\r\n    const [allowChapters, setAllowChapters] = useState([])\r\n    useEffect(()=>{\r\n        if(matiere === \"\" || matiere === \"undifined\"){\r\n            fetch('/api/chapters',{\r\n                headers:{\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                }\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                if(result.allow === true){\r\n                    setChapters(result.chapters)\r\n                    setAllowChapters(result.allow)\r\n                }\r\n                else{\r\n                    setErrorMessageChapter(result.error)\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            fetch('/api/chaptersPrecis',{\r\n                method: \"post\",\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    subject:matiere\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                if(result.allow === true){\r\n                    setChapters(result.chapters)\r\n                    setAllowChapters(result.allow)\r\n                    // console.log(result)\r\n                }\r\n                else{\r\n                    setErrorMessageChapter(result.error)\r\n                }\r\n            })\r\n        }\r\n    },[matiere])\r\n\r\n\r\n    const onEditorStateChangeCours = (e) => {\r\n        setCours(e)\r\n    }\r\n\r\n    const onEditorStateChangeDescription = (e) => {\r\n        setDesc(e)\r\n    }\r\n\r\n\r\n    /// POST FUNCTIONs\r\n    const [url, setUrl] = useState(\"\")\r\n    if(!firebase.apps.length){\r\n        firebase.initializeApp(config)\r\n    }\r\n\r\n    const storage = firebase.storage()\r\n    const submitButton = (file)=>{\r\n        document.getElementById('buttonPostChapter').disabled = true\r\n        document.getElementById('buttonDeleteIllu').disabled = true\r\n        const imageExtension = file.name.split(\".\")[file.name.split(\".\").length - 1];\r\n        const filename = `${(Math.random().toString(36).substr(2, 13) + '-' + Math.random().toString(36).substr(2, 13)+ '-' + Math.random().toString(36).substr(2, 13)).toString()}.${imageExtension}`;\r\n        let locationRef = storage.ref('img/' + filename)\r\n        let task = locationRef.put(file)\r\n        task.on('state_changed', \r\n            function progress(snapshot){ //progress\r\n                let per = (snapshot.bytesTransferred / snapshot.totalBytes) *100;\r\n                let uploader = document.getElementById('progressBar')\r\n                uploader.value = per;\r\n            },\r\n            function error(error){ },\r\n            function complete(){\r\n                locationRef.getDownloadURL()\r\n                .then((url)=>{\r\n                    // console.log(url)\r\n                    setUrl(url)\r\n                    document.getElementById('buttonPostChapter').disabled = false\r\n                    document.getElementById('buttonDeleteIllu').disabled = false\r\n                })\r\n                .catch(err=>{\r\n                    console.log(err)\r\n                })\r\n              }\r\n        )\r\n    }\r\n\r\n    const getPathStorageFromUrl = ()=>{\r\n        // console.log(url)\r\n        const baseUrl = \"https://firebasestorage.googleapis.com/v0/b/feedesmaths.appspot.com/o/\"\r\n        let imagePath = url.replace(baseUrl,\"\")\r\n        const indexOfEndPath = imagePath.indexOf(\"?\")\r\n        imagePath = imagePath.substring(0,indexOfEndPath)\r\n        imagePath = imagePath.replace(\"%2F\",\"/\")\r\n        // console.log(imagePath)\r\n        return imagePath;\r\n    }\r\n\r\n    const deleteFile = () =>{\r\n        if(url){\r\n            const imagePath = getPathStorageFromUrl()\r\n            const desertRef = storage.ref().child(imagePath);\r\n            desertRef.delete()\r\n            .then(()=>{\r\n                const url = \"\"\r\n                setUrl(url)\r\n                document.getElementById('buttonPostChapter').disabled = false\r\n                document.getElementById('buttonDeleteIllu').disabled = true\r\n                document.getElementById('submitButton').value = \"\"\r\n                document.getElementById('progressBar').value = 0\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        setCours(EditorState.createWithContent(ContentState.createFromText(\"\")))\r\n        setDesc(EditorState.createWithContent(ContentState.createFromText(\"\")))\r\n    },[])\r\n\r\n    const [leconTitle, setLecon] = useState(\"\")\r\n    const [cours, setCours] = useState(\"\")\r\n    const [lessNumber,setLessonNumber] = useState(\"\")\r\n    const [lessonClip,setLessonClip] = useState(\"\")\r\n    const postLesson = ()=>{\r\n        fetch('/api/createCourse', {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                // \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                subject:matiere,\r\n                chapter:chapitre,\r\n                lessonTitle:leconTitle,\r\n                lessonClip,\r\n                lesson:draftToHtml(convertToRaw(cours.getCurrentContent())),\r\n                lessonNumber:lessNumber\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            if(result.createlesson === true){\r\n                document.getElementById('inputStateMatiere').value = \"undifined\"\r\n                document.getElementById('inputStateChapitre').value = \"undifined\"\r\n                setLecon(\"\")\r\n                setLessonNumber(\"\")\r\n                setLessonClip(\"\")\r\n                setCours(EditorState.createWithContent(ContentState.createFromText(\"\")))\r\n                toast.success(`${newChapter} added`, {autoClose: 3000})                \r\n            }\r\n            else{\r\n                toast.error(result.error, {autoClose: 3000})\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.error(err)\r\n        })    \r\n    }\r\n\r\n\r\n    const [matiereForChapter, setMatiereForChapter] = useState(\"\")\r\n    const [newChapter, setNewChapter] = useState(\"\")\r\n    const [chapNumber, setChapNumber] = useState(\"\")\r\n    const [desc, setDesc] = useState(\"\")\r\n    const postChapter = ()=>{\r\n        fetch('/api/createChapter', {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                // \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                subject: matiereForChapter.toLocaleLowerCase(),\r\n                chapter: newChapter,\r\n                chapterIllustration:url,\r\n                chapterDesc: draftToHtml(convertToRaw(desc.getCurrentContent())),\r\n                chapNumber: chapNumber\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            if(result.createChapter === true){\r\n                setChapters([...chapters, newChapter])\r\n                document.getElementById('inputStateChapter').value = \"undifined\"\r\n                setChapNumber(\"\")\r\n                setNewChapter(\"\")\r\n                document.getElementById('progressBar').value = 0\r\n                document.getElementById('submitButton').value = \"\"\r\n                setDesc(EditorState.createWithContent(ContentState.createFromText(\"\")))\r\n                closePopUp()\r\n\r\n                toast.success(`${newChapter} added`, {autoClose: 3000})\r\n            }\r\n            else{\r\n                toast.error(result.error, {autoClose: 3000})\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n    const [newSubject, setNewSubject] = useState(\"\")\r\n    const postSubject = ()=>{\r\n        if (document.getElementById(\"newSubject\")) {\r\n            document.getElementById('newSubject').value = \"\"\r\n        }\r\n        fetch('/api/createSubject', {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                // \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                subject: newSubject\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            if(result.createSubject === true){\r\n                setsubjects([...subjects, newSubject])\r\n                setNewSubject(\"\")\r\n                closePopUp()\r\n                toast.success(`${newSubject} added`, {autoClose: 3000})\r\n            }\r\n            else{\r\n                toast.error(result.error, {autoClose: 3000})\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n\r\n    // POPUP\r\n    const popUpChapitre = ()=>{\r\n        const modal = document.getElementById(\"popUpChapter\");\r\n        modal.style.display = \"block\";      \r\n    }\r\n    const popUpMatiere = ()=>{\r\n        const modal = document.getElementById(\"popUpSubject\");\r\n        modal.style.display = \"block\";\r\n    }\r\n    const closePopUp = ()=>{\r\n        const modal = document.getElementById(\"popUpSubject\");\r\n        const chapter = document.getElementById(\"popUpChapter\");\r\n        modal.style.display = \"none\";\r\n        chapter.style.display = \"none\";\r\n    }\r\n    window.onclick = function(event) {\r\n        const modal = document.getElementById(\"popUpSubject\");\r\n        const chapter = document.getElementById(\"popUpChapter\");\r\n        if (event.target == modal) {\r\n          modal.style.display = \"none\";\r\n        }\r\n        if (event.target == chapter) {\r\n            chapter.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n\r\n\r\n    if(allow === true){\r\n        return (\r\n            <div>\r\n                <div className=\"form-row mcl\">\r\n                    <div className=\"card col add-card-AddLesson\">\r\n                        <h1>Ajouter une leon</h1>\r\n                        <div className=\"form-row mcl spaceAdd\">\r\n                            <div className=\"col\">\r\n                                <select id=\"inputStateMatiere\" className=\"form-control\" onChange={(e)=>{setMatiere(e.target.value)}}>\r\n                                    <option  className=\"defaultValue\" value=\"undifined\">Matires : </option>\r\n                                    {subjects.map(subject=>{\r\n                                        return(\r\n                                            <option key={subject} value={subject}>{subject}</option>\r\n                                        )\r\n                                    })}\r\n                                </select>\r\n                                <button className=\"btn btn-primary btn_PopUp\" onClick={()=>{popUpMatiere()}}>Ajout matire</button>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <select id=\"inputStateChapitre\" className=\"form-control\" onChange={(e)=>{setChapitre(e.target.value)}}>\r\n                                    <option  className=\"defaultValue\" value=\"undifined\">Chapitres : </option>\r\n                                    {chapters.map(chapter=>{\r\n                                        return(\r\n                                            <option key={chapter} value={chapter}>{chapter}</option>\r\n                                        )\r\n                                    })}\r\n                                </select>\r\n                                {/* <a href=\"#addChapter\">Ajouter un chapitre</a> */}\r\n                                <button className=\"btn btn-primary btn_PopUp\" onClick={()=>{popUpChapitre()}}>Ajout chapitre</button>\r\n    \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-row mcl\">\r\n                            <div className=\"col\">\r\n                                <input type=\"number\" className=\"form-control\" placeholder=\"lecon N\" id=\"lessNumber\"\r\n                                    value={lessNumber}\r\n                                    onChange={(e) => setLessonNumber(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Titre de la leon\" id=\"leconTitle\"\r\n                                    value={leconTitle}\r\n                                    onChange={(e) => setLecon(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Video Url ou video id\" id=\"lessonClip\"\r\n                                    value={lessonClip}\r\n                                    onChange={(e) => setLessonClip(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <Editor\r\n                            id=\"cours\"\r\n                            editorState={cours}\r\n                            toolbarClassName=\"toolbarClassName\"\r\n                            wrapperClassName=\"wrapperClassName\"\r\n                            editorClassName=\"editorClassName\"\r\n                            onEditorStateChange={onEditorStateChangeCours}\r\n                            toolbar={{\r\n                                fontFamily: {\r\n                                    options: ['Arial', 'Georgia', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana', 'Chalkduster Regular'],\r\n                                    className: undefined,\r\n                                    component: undefined,\r\n                                    dropdownClassName: undefined,\r\n                                },\r\n                            }}\r\n                        />\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={() => postLesson()}>Upload</button>\r\n                    </div>\r\n                    <div className=\"card col add-card-AddLesson\">\r\n                        <h1>Prvisualisation cours</h1>\r\n                        <div>\r\n                            {\r\n                                cours !== \"\" ?\r\n                                    <InlineTex texContent={draftToHtml(convertToRaw(cours.getCurrentContent()))}/> : \"\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>       \r\n    \r\n    \r\n    \r\n    \r\n                {/* ajoute chapitre */}\r\n                <div id=\"popUpChapter\">\r\n                <span className=\"close\" onClick={()=>{closePopUp()}}>&times;</span>\r\n                    <div className=\"form-row mcl\">\r\n                        <div className=\"card col add-card-AddLesson\" id=\"addChapter\">\r\n                            <h1>Ajouter un chapitre</h1>\r\n                            <div className=\"form-row mcl spaceAdd\">\r\n                                <div className=\"col\">\r\n                                    <select id=\"inputStateChapter\" className=\"form-control\" onChange={(e)=>{setMatiereForChapter(e.target.value)}}>\r\n                                        <option  className=\"defaultValue\" value=\"undifined\">Matire : </option>\r\n                                        {subjects.map(subject=>{\r\n                                            return(\r\n                                                <option key={subject} value={subject}>{subject}</option>\r\n                                            )\r\n                                        })}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"col\">\r\n                                    <input type=\"number\" className=\"form-control\" placeholder=\"chapitre N\" id=\"chapNumber\"\r\n                                        value={chapNumber}\r\n                                        onChange={(e) => setChapNumber(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"titre du chapitre\" id=\"newChapter\"\r\n                                        value={newChapter}\r\n                                        onChange={(e) => setNewChapter(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"input-group spaceAdd\">\r\n                                <div className=\"custom-file\">\r\n                                    <input type=\"file\" id=\"submitButton\" onChange={(e)=>submitButton(e.target.files[0])}/>\r\n                                    <div>\r\n                                        <progress value=\"0\" max=\"100\" id=\"progressBar\">0%</progress>    \r\n                                    </div>\r\n                                    <button id=\"buttonDeleteIllu\" className=\"btn\" onClick={()=>{deleteFile()}}><i className=\"fa fa-close\"></i></button>\r\n                                </div>\r\n                            </div>\r\n    \r\n                            <Editor\r\n                                id = \"desc\"\r\n                                editorState={desc}\r\n                                toolbarClassName=\"toolbarClassName\"\r\n                                wrapperClassName=\"wrapperClassName\"\r\n                                editorClassName=\"editorClassName\"\r\n                                onEditorStateChange={onEditorStateChangeDescription}\r\n                                toolbar={{\r\n                                    fontFamily: {\r\n                                        options: ['Arial', 'Georgia', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana', 'Chalkduster Regular'],\r\n                                        className: undefined,\r\n                                        component: undefined,\r\n                                        dropdownClassName: undefined,\r\n                                    },\r\n                                }}\r\n                            />\r\n                            <button id=\"buttonPostChapter\" type=\"button\" className=\"btn btn-primary\"\r\n                                    onClick={() => postChapter()}\r\n                            >\r\n                                Upload\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"card col\" id=\"add-card-lesson\">\r\n                            <h1>Prvisualisation description chapitre</h1>\r\n                            <div>\r\n                                {\r\n                                    desc !== \"\" ?\r\n                                        <InlineTex texContent={draftToHtml(convertToRaw(desc.getCurrentContent()))}/> : \"\"\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n    \r\n    \r\n                {/* ajoute matiere */}\r\n                <div id=\"popUpSubject\">\r\n                    <div className=\"card add-card-AddLesson\" id=\"addSubject\">\r\n                    <span className=\"close\" onClick={()=>{closePopUp()}}>&times;</span>\r\n                        <h1>Ajouter une matiere</h1>\r\n                        <div className=\"form-row mcl\" id=\"spaceAddLesson\">\r\n                            <div className=\"col\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Titre de la matire\" id=\"newSubject\"\r\n                                    value={newSubject}\r\n                                    onChange={(e) => setNewSubject(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <button id=\"boutonSubject\" type=\"button\" className=\"btn btn-primary\"\r\n                                        onClick={() => postSubject()}\r\n                                >\r\n                                    Upload\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>{errorMessage}</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Addlesson","import React, {useState, useEffect, useContext} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {Link} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport './MesCours.css';\r\nimport Cookies from 'universal-cookie';\r\nimport { InlineTex } from 'react-tex'\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css'; \r\n// import { post } from '../../../../server/routes/course/getMyCourse';\r\ntoast.configure()\r\n\r\nconst MesCours = ()=>{\r\n    const cookies = new Cookies()\r\n    const [mesCours ,setCours]=useState([])\r\n    const [errorMessage, setErrorMessage] = useState([])\r\n    const [allow, setAllow] = useState(\"\")\r\n\r\n    // eslint-disable-next-line\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n\t}\r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        fetch('/api/getMyPost',{\r\n            headers:{\r\n                // \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.allow === true){\r\n                setCours(result.mesCours)\r\n                setAllow(result.allow)\r\n            }\r\n            else{\r\n                setErrorMessage(result.error)\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[])\r\n\r\n    const [chapitres ,setChapitres]=useState([])\r\n    useEffect(()=>{\r\n        fetch('/api/getMyChapter',{\r\n            headers:{\r\n                // \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            // setChapitres(result.mesChapitre)\r\n            if(result.allow === true){\r\n                // console.log(result.mesChapitre)\r\n                setChapitres(result.mesChapitre)\r\n                setAllow(result.allow)\r\n            }\r\n            else{\r\n                setErrorMessage(result.error)\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[])\r\n\r\n\r\n    const deletePost = (postId, index)=>{\r\n        fetch(`/api/deletepostById/${postId}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            if(result.allow === true){\r\n                const newCours = mesCours.filter(item=>{\r\n                    return item.lessonId !== postId\r\n                })\r\n                toast.success(result.message, {autoClose: 3000})\r\n                setCours(newCours)\r\n                closePopUp(index)\r\n\r\n            }\r\n            else{\r\n                toast.error(result.error, {autoClose: 3000})\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const deleteChapter = (myChapterId,index)=>{\r\n        // console.log(myChapterId)\r\n        fetch(`/api/deleteChapterById/${myChapterId}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            if(result.allow === true){\r\n                const newChapter = chapitres.filter(item=>{\r\n                    return item.chapterId !== myChapterId\r\n                })\r\n                toast.success(result.message, {autoClose: 3000})\r\n                setChapitres(newChapter)\r\n                // \r\n                closePopUpChap(index)\r\n            }\r\n            else{\r\n                toast.error(result.error, {autoClose: 3000})\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        }) \r\n    }\r\n\r\n    const popUpDel = (index)=>{\r\n        const modal = document.getElementById(`popUpDel${index}`);\r\n        modal.style.display = \"block\";\r\n    }\r\n    const closePopUp = (index)=>{\r\n        const modal = document.getElementById(`popUpDel${index}`);\r\n        modal.style.display = \"none\";\r\n    }\r\n\r\n    const popUpDelChap = (index)=>{\r\n        const modal = document.getElementById(`popUpDelChap${index}`);\r\n        modal.style.display = \"block\";\r\n    }\r\n    const closePopUpChap = (index)=>{\r\n        const modal = document.getElementById(`popUpDelChap${index}`);\r\n        modal.style.display = \"none\";\r\n    }\r\n    window.onclick = function(event){\r\n        const chapitresSize = chapitres.length\r\n        var tab=[]\r\n        for(var i =0; i<chapitresSize; i++){\r\n            tab[i] = document.getElementById(`popUpDelChap${i}`)\r\n        }\r\n        for(var i =0; i<chapitresSize; i++){\r\n            if (event.target == tab[i]) {\r\n                tab[i].style.display = \"none\";\r\n            }\r\n        }\r\n\r\n        const mesCoursSize = mesCours.length\r\n        var tabLesson=[]\r\n        for(var i =0; i<mesCoursSize; i++){\r\n            tabLesson[i] = document.getElementById(`popUpDel${i}`)\r\n        }\r\n        for(var i =0; i<mesCoursSize; i++){\r\n            if (event.target == tabLesson[i]) {\r\n                // console.log(\"click\")\r\n                tabLesson[i].style.display = \"none\";\r\n            }\r\n        }\r\n    }\r\n\r\n    const showLessons = ()=>{\r\n        if(mesCours){\r\n            return(\r\n                <div id=\"mescours\">\r\n                    <div className=\"titleXsize\">\r\n                        <h1>Mes leons</h1>\r\n                        <h5 className=\"size\">{mesCours.length} leons</h5>\r\n                    </div>\r\n                    <div className=\"allCard\">\r\n                        {\r\n                        mesCours.map((item, index)=>{\r\n                            // console.log(item)\r\n                            return(\r\n                                <div className=\"card\" id=\"myLessonCard\" key={item.lessonId}>\r\n                                    <div className=\"f\">\r\n                                        <div className=\"card-title\" id=\"titleMyLessons\">\r\n                                            <h2>{item.lessonTitle}</h2>\r\n                \r\n                                            <Link to={\"/modification/\"+item.lessonId} className=\"btn seecourse_btn\">Modifier</Link>        {/*MODIFIER/SUPPR juste pour rank=prof */}\r\n                                            <button type=\"button\" className=\"btn seecourse_btn\"\r\n                                            /*onClick={()=>{deletePost(item.lessonId)}}*/\r\n                                            onClick={()=>{popUpDel(index)}}\r\n                                            >\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n                                                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n                                                <path fillRule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n                                            </svg>\r\n                                            </button> \r\n                                            <div id={`popUpDel${index}`} className=\"popUpDel\">\r\n                                                <div className=\"card\">\r\n                                                    <span className=\"close\" onClick={()=>{closePopUp(index)}}>&times;</span>\r\n                                                    <h1 className=\"card-title\">tes-vous sr de vouloir supprimer {item.lessonTitle} ?</h1>\r\n                                                    <button type=\"button\" className=\"btn seecourse_btn\"\r\n                                                    onClick={()=>{deletePost(item.lessonId, index)}}\r\n                                                    >\r\n                                                    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-trash-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path fillRule=\"evenodd\" d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\"/>\r\n                                                    </svg>\r\n                                                    </button> \r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <InlineTex texContent={item.lessonContent}/>\r\n                                        </div>\r\n                                        <Link to={\"/lesson/\"+item.lessonId} id=\"boutonMesCours\" className=\"btn seecourse_btn\">Voir la leon</Link>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }) \r\n                        }\r\n                        {/*10 par page, apres ajouter page navigation*/}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <h1>Vous n'avez pas de lecon</h1>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const showChapter = ()=>{\r\n        if(chapitres){\r\n            return(\r\n                <div id=\"mesChapitres\">\r\n                    <div className=\"titleXsize\">\r\n                        <h1>Mes chapitres</h1>\r\n                        <h5 className=\"size\">{chapitres.length} chapitres</h5>\r\n                    </div>\r\n                    <div className=\"allCard\">\r\n                        {\r\n                        chapitres.map((item,index)=>{\r\n                            // console.log(index, \": \", item)\r\n                            return(\r\n                                <div className=\"card\" id=\"myLessonCard\" key={item.chapterId}>\r\n                                    <div className=\"f\">\r\n                                        <div className=\"card-title\" id=\"titleMyPost\">\r\n                                            <h2>{`${item.chapterNumber}: `} {item.chapterTitle}</h2>\r\n\r\n\r\n                                            {/*  */}\r\n                                            <Link to={\"/modificationChapter/\"+item.chapterId} className=\"btn seecourse_btn\">Modifier</Link>        {/*MODIFIER/SUPPR juste pour rank=prof */}\r\n                                            {/*  */}\r\n\r\n\r\n                                            <button type=\"button\" className=\"btn seecourse_btn\"\r\n                                            /*onClick={()=>{deletePost(item.lessonId)}}*/\r\n                                            onClick={()=>{popUpDelChap(index)}}\r\n                                            >\r\n                                            <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-trash-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                <path fillRule=\"evenodd\" d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\"/>\r\n                                            </svg>\r\n                                            </button>\r\n\r\n                                            <div id={`popUpDelChap${index}`} className=\"popUpDelChap\">\r\n                                                <div className=\"card\">\r\n                                                    <span className=\"close\" onClick={()=>{closePopUpChap(index)}}>&times;</span>\r\n                                                    <h1 className=\"card-title\">tes-vous sr de vouloir supprimer {item.chapterTitle}</h1>\r\n                                                    <button type=\"button\" className=\"btn seecourse_btn\"\r\n                                                    onClick={()=>{deleteChapter(item.chapterId, index); /*console.log(\"chapterID moment input in function : \",item.chapterId)*/}}\r\n                                                    >\r\n                                                    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-trash-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path fillRule=\"evenodd\" d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\"/>\r\n                                                    </svg>\r\n                                                    </button> \r\n                                                </div>\r\n                                            </div>\r\n                                            {/*  */}\r\n\r\n\r\n\r\n\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <InlineTex texContent={item.description}/>\r\n                                        </div>\r\n                                        <Link to={\"/cours/\"+item.chapterId} id=\"boutonMesCours\" className=\"btn seecourse_btn\">Voir la leon</Link>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }) \r\n                        }\r\n                        {/*10 par page, apres ajouter page navigation*/}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <h1>Vous n'avez pas de lecon</h1>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    const displayChapter = ()=>{\r\n        document.getElementById(\"myLesson\").style.display = \"none\"\r\n        document.getElementById(\"myChapter\").style.display = \"block\"\r\n    }\r\n    const displayLesson = ()=>{\r\n        document.getElementById(\"myLesson\").style.display = \"block\"\r\n        document.getElementById(\"myChapter\").style.display = \"none\"\r\n    }\r\n\r\n    if(mesCours || chapitres){\r\n        if(allow === true){\r\n            return(\r\n                <div className=\"col-10 offset-1\" id=\"myPosts\">\r\n                    <div className=\"card\">\r\n                        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                            <div className=\"navbar-nav\">\r\n                                <button className=\"btn btn-sm\" type=\"button\" onClick={()=>{displayLesson()}}>Leons :</button>\r\n                                <button className=\"btn btn-sm\" type=\"button\" onClick={()=>{displayChapter()}}>Chapitres :</button>\r\n                            </div>\r\n                        </nav>\r\n                        <div className=\"card-body\" id=\"myLesson\">\r\n                            {showLessons()}\r\n                        </div>\r\n                        <div className=\"card-body\" id=\"myChapter\">\r\n                            {showChapter()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <h1>{errorMessage}</h1>\r\n                </div>\r\n            )        \r\n        }\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>Chargement de la base de donne</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MesCours","import './juridique.css';\r\nimport React, { Component } from 'react'\r\n\r\n// les components sont dans des constante pour pouvoir etre export\r\nconst Juridique = ()=>{\r\n    return(\r\n        <container id=\"displayJuridique\">\r\n        <div class=\"col-10 offset-1\"id=\"bglaw\">\r\n            <div class=\"row\">\r\n            <div class=\"col-12\" id=\"megatitre\">\r\n                <h1>Mentions lgales</h1>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 1 : Objet</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>Les prsentes  conditions gnrales d'utilisation  ont pour objet l'encadrement juridique de lutilisation du site www.les-fes-des-maths.fr et de ses services.\r\n                    Ce contrat est conclu entre :\r\n                    Le grant du site internet, ci-aprs dsign  lditeur ,\r\n                    Toute personne physique ou morale souhaitant accder au site et  ses services, ci-aprs appel  lUtilisateur .\r\n                    Les conditions gnrales d'utilisation doivent tre acceptes par tout Utilisateur, et son accs au site vaut acceptation de ces conditions.</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 2 : Mentions lgales</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p> Le site www.les-fes-des-maths.fr est dit par lquipe du projet 9</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 3: accs aux services</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p> LUtilisateur du site www.les-fes-des-maths.fr a accs aux services suivants :\r\n                    . Formulaire de contact\r\n                    . Formulaire dinscription\r\n                    . Informations relatives  lentreprise Les-fes-des-maths\r\n                    \r\n                    Tout Utilisateur ayant accs  internet peut accder gratuitement et depuis nimporte o au site. Les frais supports par lUtilisateur pour y accder (connexion internet, matriel informatique, etc.) ne sont pas  la charge de lditeur.\r\n                    Les services suivants ne sont pas accessibles pour lUtilisateur que sil est membre du site (cest--dire quil est identifi  laide de ses identifiants de connexion) :\r\n                     Accs au photo et vido relatives  la crche\r\n                    \r\n                    Le site et ses diffrents services peuvent tre interrompus ou suspendus par lditeur, notamment  loccasion dune maintenance, sans obligation de pravis ou de justification.</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 4: Responsabilit de lUtilisateur</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>L'Utilisateur est responsable des risques lis  lutilisation de son identifiant de connexion et de son mot de passe.\r\n                    Le mot de passe de lUtilisateur doit rester secret. En cas de divulgation de mot de passe, lditeur dcline toute responsabilit.\r\n                    LUtilisateur assume lentire responsabilit de lutilisation quil fait des informations et contenus prsents sur le site www.les-fes-des-maths.fr.\r\n                    Tout usage du service par l'Utilisateur ayant directement ou indirectement pour consquence des dommages doit faire l'objet d'une indemnisation au profit du site.</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 5 : Responsabilit de lditeur</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>Tout dysfonctionnement du serveur ou du rseau ne peut engager la responsabilit de lditeur.\r\n                    De mme, la responsabilit du site ne peut tre engage en cas de force majeure ou du fait imprvisible et insurmontable d'un tiers.\r\n                    Le site www.les-fes-des-maths.fr s'engage  mettre en uvre tous les moyens ncessaires pour garantir la scurit et la confidentialit des donnes. Toutefois, il napporte pas une garantie de scurit totale.\r\n                    Lditeur se rserve la facult dune non-garantie de la fiabilit des sources, bien que les informations diffuses sur le site soient rputes fiables.</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 6: Proprit intellectuelle</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>Les contenus du site www.les-fes-des-maths.fr (logos, textes, lments graphiques, vidos, etc.) sont protgs par le droit dauteur, en vertu du Code de la proprit intellectuelle.\r\n                    LUtilisateur devra obtenir lautorisation de lditeur du site avant toute reproduction, copie ou publication de ces diffrents contenus.\r\n                    Ces derniers peuvent tre utiliss par les utilisateurs  des fins prives ; tout usage commercial est interdit.\r\n                    LUtilisateur est entirement responsable de tout contenu quil met en ligne et il sengage  ne pas porter atteinte  un tiers.\r\n                    Lditeur du site se rserve le droit de modrer ou de supprimer librement et  tout moment les contenus mis en ligne par les utilisateurs, et ce sans justification.</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 7 : Donnes personnelles</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>LUtilisateur doit obligatoirement fournir des informations personnelles pour procder  son inscription sur le site.\r\n                    Ladresse lectronique (e-mail) de lutilisateur pourra notamment tre utilise par www.les-fes-des-maths.fr pour la communication dinformations diverses et la gestion du compte.\r\n                    Les-fes-des-maths garantie le respect de la vie prive de lutilisateur, conformment  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts.\r\n                    En vertu des articles 39 et 40 de la loi en date du 6 janvier 1978, l'Utilisateur dispose d'un droit d'accs, de rectification, de suppression et d'opposition de ses donnes personnelles. L'Utilisateur exerce ce droit via :\r\n                     Son espace personnel sur le site ;\r\n                     Un formulaire de contact ;\r\n                     Par mail  weirding.code@gmail.com ;</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 8 : Liens hypertextes et cookies</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>Les domaines vers lesquels mnent les liens hypertextes prsents sur le site nengagent pas la responsabilit de lditeur de fes des maths, qui na pas de contrle sur ces liens.\r\n                    Il est possible pour un tiers de crer un lien vers une page du site www.les-fes-des-maths.fr sans autorisation expresse de lditeur.\r\n                    La navigation sur le site www.les-fes-des-maths.fr est susceptible de provoquer l'installation de cookie(s) sur l'ordinateur de l'utilisateur. Un cookie est un fichier de petite taille, qui ne permet pas l'identification de l'utilisateur, mais qui enregistre des informations relatives  la navigation d'un ordinateur sur un site. Les donnes ainsi obtenues visent  faciliter la navigation ultrieure sur le site, et ont galement vocation  permettre diverses mesures de frquentation.\r\n                    Le refus d'installation d'un cookie peut entraner l'impossibilit d'accder  certains services. L'utilisateur peut toutefois configurer son ordinateur de la manire suivante, pour refuser l'installation des cookies :\r\n                    Sous Internet Explorer : onglet outil / options internet. Cliquez sur Confidentialit et choisissez Bloquer tous les cookies. Validez sur Ok.\r\n                    Sous Netscape : onglet dition / prfrences. Cliquez sur Avances et choisissez Dsactiver les cookies. Validez sur Ok.\r\n                    Sous Chrome : En haut  droite, cliquez sur Plus puis sur Paramtres. Sous \"Confidentialit et scurit\", cliquez sur Cookies et autres donnes de site. Cliquez sur Afficher l'ensemble des cookies et donnes de sites Tout supprimer.Et enfin Confirmez la suppression en cliquant sur Tout effacer.\r\n                    Cookies de sessions prsents sur ce site :Autres cookies :</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>ARTICLE 9 : volution des conditions gnrales dutilisation</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>Le site www.les-fes-des-maths.fr se rserve le droit de modifier les clauses de ces conditions gnrales dutilisation  tout moment et sans justification.</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>Article 10 : Dure du contrat</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>La dure du prsent contrat est indtermine. Le contrat produit ses effets  l'gard de l'Utilisateur  compter du dbut de lutilisation du service.</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"titre\">\r\n                <p>Article 11 : Droit applicable et juridiction comptente</p>\r\n            </div>\r\n            <div class=\"col-10 offset-1\" id=\"para\">\r\n                <p>Le prsent contrat dpend de la lgislation franaise.\r\n                    En cas de litige non rsolu  lamiable entre lUtilisateur et lditeur, les tribunaux de Lille sont comptents pour rgler le contentieux.</p>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </container>\r\n        \r\n    )\r\n}\r\n\r\nexport default Juridique\r\n","import React, {useEffect, useState, useContext, Component} from 'react'\r\nimport {useParams, useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport './LeconPrecise.css';\r\n// import '../screens/Pages.css'\r\n\r\nimport { convertFromRaw } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport { InlineTex } from 'react-tex'\r\nimport {EditorState, convertToRaw, ContentState} from 'draft-js';\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css';  \r\ntoast.configure()\r\n\r\nconst LeconPrecise = ()=>{\r\n    const cookies = new Cookies()\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n\r\n    const lessonId = useParams()\r\n    const [lesson ,setLesson]=useState([])\r\n    const [note, setNote] = useState(\"\")\r\n    useEffect(()=>{\r\n        fetch(`/api/lesson/${lessonId.id}`,{\r\n            headers:{\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            setLesson(result[0])\r\n            getScore(result[0])\r\n            // console.log(result)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[])\r\n    const getScore = (res) =>{\r\n        const lessonTitle = res.lessonTitle\r\n        fetch(`/api/getQuizScoreForLesson/${lessonTitle}`, {\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.length>0){\r\n                // console.log(\"result : \",result)\r\n                setNote(result)\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const [questions, setQuestions] = useState([])\r\n    const searchQuiz = ()=>{\r\n        fetch('/api/getQuizWChapterId',{\r\n            method: \"post\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\",\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            },\r\n            body:JSON.stringify({\r\n                subject:lesson.subject,\r\n                chapterId:lesson.chapterId,\r\n                lessonId:lesson.lessonId\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            if(result.length>0){\r\n                // console.log(result)\r\n                setQuestions(result)\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    const goToChapter = (subject, lessonId, chapterTitle, chapterId)=>{\r\n        fetch('/api/validateProgression', {\r\n            method: \"post\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\",\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            },\r\n            body: JSON.stringify({\r\n                chapterId,\r\n                lessonId\r\n            })\r\n        // })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            toast.success(result.message, {autoClose: 3000})\r\n        })\r\n        .then(()=>{\r\n            fetch('/api/globalProgression',{\r\n                method: \"post\",\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\",\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                },\r\n                body: JSON.stringify({\r\n                    subject,\r\n                    chapterId,\r\n                    lessonId,\r\n                    chapterTitle\r\n                })  \r\n            })\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n            // toast.error(err, {autoClose: 3000})\r\n        })\r\n        history.push(`/cours/${lesson.chapterId}`)\r\n    }\r\n    \r\n\r\n    // TYPE D'URL SUPPORTER\r\n    // http://www.youtube.com/watch?v=0zM3nApSvMg&feature=feedrec_grec_index\r\n    // http://www.youtube.com/user/IngridMichaelsonVEVO#p/a/u/1/QdK8U-VIH_o\r\n    // http://www.youtube.com/v/0zM3nApSvMg?fs=1&amp;hl=en_US&amp;rel=0\r\n    // http://www.youtube.com/watch?v=0zM3nApSvMg#t=0m10s\r\n    // http://www.youtube.com/embed/0zM3nApSvMg?rel=0\r\n    // http://www.youtube.com/watch?v=0zM3nApSvMg\r\n    // http://youtu.be/0zM3nApSvMg\r\n    const youtube_parser = (url)=>{\r\n        if(url){\r\n            var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\r\n            var match = url.match(regExp);\r\n            return (match&&match[7].length==11)? match[7] : false;\r\n        }\r\n    }\r\n\r\n    const showClip = (clip)=>{\r\n        if(clip){\r\n            if(clip.length > 15){\r\n                const clipId = youtube_parser(clip)    \r\n                // console.log(clipId)\r\n\r\n\r\n\r\n                ///////\r\n                var srcId = \"https://www.youtube.com/embed/\"+clipId\r\n                return(\r\n                    <iframe width=\"560\" height=\"315\" src={srcId} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n                )\r\n            }\r\n            else{\r\n                const clipId = clip\r\n                return(\r\n                    <iframe width=\"560\" height=\"315\" src={srcId} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n                )\r\n            }\r\n                ////////\r\n\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n    const showNote = () =>{\r\n        return(\r\n            <>\r\n                <h1>{note}/20</h1>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const displayLessons = () => {\r\n        // document.getElementById(\"lessonToHide\").style.display = \"flex\"\r\n        document.getElementById(\"lecons\").style.display = \"block\"\r\n        document.getElementById(\"quiz\").style.display = \"none\"\r\n        document.getElementById(\"showScore\").style.display = \"none\"\r\n    }\r\n    const displayQuestions = () => {\r\n        searchQuiz()\r\n        // document.getElementById(\"lessonToHide\").style.display = \"none\"\r\n        document.getElementById(\"quiz\").style.display = \"block\"\r\n        document.getElementById(\"lecons\").style.display = \"none\"\r\n        document.getElementById(\"showScore\").style.display = \"none\"\r\n    }\r\n\r\n    const quizQuestion = () =>{\r\n        if(questions.length>0){\r\n            return(\r\n            <div className=\"containerQuiz mt-sm-5 my-1\">\r\n                <div className=\"question ml-sm-5 pl-sm-5 pt-2\">\r\n                    {questions.map((quest,index)=>{\r\n                        return(\r\n                        <div key={quest.question+index}>\r\n                            <div className=\"py-2 h5\" id=\"enonce\">\r\n                                {/* <h1>{cmpt}</h1> */}\r\n                                {/* AJOUT IMAGE SI IL Y EN A UNE ! */}\r\n        \r\n                                <b id=\"num\">{`Q${quest.questionNumber}.`}</b>\r\n                                <b><InlineTex texContent={quest.question}/></b>\r\n                            </div>\r\n                            <div className=\"ml-md-3 ml-sm-3 pl-md-5 pt-sm-0 pt-3\" id=\"options\">\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionA}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionA} id={`${index}checkA`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionB}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionB} id={`${index}checkB`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionC}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionC} id={`${index}checkC`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionD}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionD} id={`${index}checkD`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n        \r\n                <div className=\"d-flex align-items-center pt-3\">\r\n                    <div className=\"ml-auto mr-sm-5\">\r\n                        <button className=\"btn btn-success\" onClick={()=>{displayLessons()}}>retour  la lecon</button>\r\n                    </div>\r\n                    <div className=\"ml-auto mr-sm-5\">\r\n                        <button className=\"btn btn-success\" id=\"sendAnswer\" onClick={()=>{sendQuizAnswer()}}>Valider</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <h1>pas de quiz pour ce chapitre pour l'instant</h1>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const [score, setScore] = useState(0)\r\n    const sendQuizAnswer = ()=>{\r\n        var empty = true\r\n        for(var i = 0; i<questions.length; i++){\r\n            const checkBox = document.getElementById(`${i}checkA`)\r\n            const checkBox2 = document.getElementById(`${i}checkB`)\r\n            const checkBox3 = document.getElementById(`${i}checkC`)\r\n            const checkBox4 = document.getElementById(`${i}checkD`)\r\n    \r\n            if(checkBox.checked == true || checkBox2.checked == true || checkBox3.checked == true || checkBox4.checked == true){\r\n                empty = false\r\n            }\r\n        }\r\n\r\n        if(!empty){\r\n            document.getElementById(\"quiz\").style.display = \"none\"\r\n            document.getElementById(\"showScore\").style.display = \"block\"\r\n\r\n            var totalScore = 0\r\n            // var reponse = {}\r\n            for(var i = 0; i<questions.length; i++){\r\n                const nbrCorrectAns = questions[i].answer.length\r\n                // console.log(nbrCorrectAns)\r\n\r\n                const checkBox = document.getElementById(`${i}checkA`)\r\n                const checkBox2 = document.getElementById(`${i}checkB`)\r\n                const checkBox3 = document.getElementById(`${i}checkC`)\r\n                const checkBox4 = document.getElementById(`${i}checkD`)\r\n                for(var y = 0; y<nbrCorrectAns;y++){\r\n                    // console.log(\"question \",i,\" check answer \", y, \"/\")\r\n                    if (checkBox.checked == true){\r\n                        // console.log(\"question \",i,\" check answer : \", checkBox.value, \" good answer : \",  questions[i].answer[y])\r\n                        if(checkBox.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n                        }\r\n                    }\r\n                    if (checkBox2.checked == true){\r\n                        if(checkBox2.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n\r\n                        }\r\n                    }\r\n                    if (checkBox3.checked == true){\r\n                        if(checkBox3.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n\r\n                        }\r\n                    }\r\n                    if (checkBox4.checked == true){\r\n                        if(checkBox4.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // calcul/20\r\n            const finalScore = ((totalScore*20)/questions.length).toFixed(2)\r\n            if(finalScore < 0){\r\n                finalScore = 0\r\n            }\r\n            setScore(finalScore)\r\n            setNote(finalScore)\r\n            showScore(finalScore)\r\n        }\r\n        else{\r\n            toast.error(\"vrifier vos rponses !\", {autoClose: 3000})\r\n        }\r\n    }\r\n\r\n\r\n\r\n    ///////////\r\n    const showScore = (finalScore)=>{\r\n        //stockage en bdd\r\n        fetch('/api/postQuizzScore',{\r\n            method: \"post\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\",\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                chapterTitle:lesson.chapter,\r\n                lessonTitle:lesson.lessonTitle,\r\n                subject:lesson.subject,\r\n                note:finalScore\r\n            })  \r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            console.log(result.message)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const waiting = () =>{\r\n        return(\r\n            <div id=\"waitingScreen\">\r\n                <h1>Calcul de votre note</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    if(lesson){\r\n        return(\r\n            <div id=\"fullLesson\">\r\n                <h1>{lesson.lessonTitle}</h1>\r\n                <div className=\"card\">\r\n                    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                        <div className=\"navbar-nav\">\r\n                            <button className=\"btn btn-sm\" type=\"button\" onClick={()=>{displayLessons()}}>Leons :</button>\r\n                            <button className=\"btn btn-sm\" type=\"button\" onClick={()=>{displayQuestions()}}>quiz :</button>\r\n                        </div>\r\n                    </nav>\r\n                    <div className=\"card-body\" id=\"lecons\">\r\n                        {/* <h2 className=\"list-group-item\" id=\"coursPrecisLeconTitreLecons\">Leons :</h2> */}\r\n                        {\r\n                            showClip(lesson.lessonClip)\r\n                        }\r\n                        <InlineTex texContent={lesson.lessonContent}/>\r\n\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={()=>{goToChapter(lesson.subject, lesson.lessonId, lesson.chapter, lesson.chapterId)}}>\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n                                <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"></path>\r\n                            </svg>\r\n                            Retour au chapitre\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div id=\"quiz\">\r\n                            {note?showNote():quizQuestion()}\r\n                        </div>\r\n                        <div id=\"showScore\">\r\n                            {note?showNote():waiting()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>Chargement de la base de donne</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default LeconPrecise","import React, {useEffect, useState, useContext, Component} from 'react'\r\nimport {useParams, useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport './Modification.css';\r\nimport Cookies from 'universal-cookie';\r\n\r\nimport { convertFromHTML, convertFromRaw} from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport { InlineTex } from 'react-tex'\r\nimport {EditorState, convertToRaw, ContentState} from 'draft-js';\r\n\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css'; \r\ntoast.configure()\r\n\r\n\r\n\r\nconst Modification = ()=>{\r\n    const cookies = new Cookies()\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n\t}\r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n\r\n    const postId = useParams()\r\n    const [lesson ,setLesson]=useState([])\r\n    const [chapitre, setChapitre] = useState(\"\")\r\n    const [matiere, setMatiere] = useState(\"\")\r\n    const [lessNumber,setLessonNumber] = useState(\"\")\r\n    const [leconTitle, setLeconTitle] = useState(\"\")\r\n    const [cours, setCours] = useState(\"\")\r\n    const [clip, setClip] = useState(\"\")\r\n    // const ContentState = Draft.ContentState\r\n    useEffect(()=>{\r\n        fetch(`/api/modification/${postId.id}`,{\r\n            headers:{\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            setLesson(result[0])\r\n            setMatiere(result[0].subject)\r\n            setChapitre(result[0].chapter)\r\n            setLessonNumber(result[0].lessonNumber)\r\n            setLeconTitle(result[0].lessonTitle)\r\n            setClip(result[0].lessonClip)\r\n            const coursHTML = convertFromHTML(result[0].lessonContent)\r\n            setCours(EditorState.createWithContent(ContentState.createFromBlockArray(coursHTML.contentBlocks, coursHTML.entityMap)))\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[])\r\n\r\n\r\n\r\n\r\n    const onEditorStateChangeCours = (e) => {\r\n        setCours(e)\r\n    }\r\n\r\n    const [subjects, setsubjects] = useState([])\r\n    const [errorMessage, setErrorMessage] = useState([])\r\n    const [allow, setAllow] = useState([])\r\n    \r\n    useEffect(()=>{\r\n        fetch('/api/subjects',{\r\n            headers:{\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.allow === true){\r\n                setsubjects(result.subjects)\r\n                setAllow(result.allow)\r\n            }\r\n            else{\r\n                setErrorMessage(result.error)\r\n            }\r\n        })\r\n    },[])\r\n\r\n    const [chapters, setChapters] = useState([])\r\n    const [errorMessageChapter, setErrorMessageChapter] = useState([])\r\n    const [allowChapters, setAllowChapters] = useState([])\r\n    useEffect(()=>{\r\n        if(matiere === \"\" || matiere === \"undifined\"){\r\n            fetch('/api/chapters',{\r\n                headers:{\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                }\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                if(result.allow === true){\r\n                    setChapters(result.chapters)\r\n                    setAllowChapters(result.allow)\r\n                }\r\n                else{\r\n                    setErrorMessageChapter(result.error)\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            fetch('/api/chaptersPrecis',{\r\n                method: \"post\",\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\",\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                },\r\n                body:JSON.stringify({\r\n                    subject:matiere\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                if(result.allow === true){\r\n                    setChapters(result.chapters)\r\n                    setAllowChapters(result.allow)\r\n                }\r\n                else{\r\n                    setErrorMessageChapter(result.error)\r\n                }\r\n            })\r\n        }\r\n    },[matiere])\r\n\r\n    const updateLesson = ()=>{\r\n        console.log(lesson)\r\n        fetch('/api/updateLesson', {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            },\r\n            body: JSON.stringify({\r\n                subject:matiere,\r\n                chapter:chapitre,\r\n                lessonTitle:leconTitle,\r\n                lessonClip:clip,\r\n                lesson:draftToHtml(convertToRaw(cours.getCurrentContent())),\r\n                lessonNumber:lessNumber,\r\n                leconId:lesson.lessonId,\r\n                chapterId:lesson.chapterId\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            if(result.createlesson === true){\r\n                toast.success(`${leconTitle} updated`,{autoClose: 3000})\r\n                // window.alert(`${newChapter} added`)\r\n                history.push('/mypost')\r\n            }\r\n            else{\r\n                // toast(result.error)\r\n                toast.error(result.error, {autoClose: 3000})\r\n                // window.alert(result.error)\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.error(err)\r\n        })  \r\n    }\r\n\r\n\r\n    if(lesson){\r\n        if(allow === true){\r\n            return(\r\n                <div className=\"form-row mcl\">\r\n                    <div className=\"card col add-card-Modification\">\r\n                        <h1>Modifier une leon</h1>\r\n                        <div className=\"form-row mcl\" id=\"spaceModification\">\r\n                            <div className=\"col labelLessonModification\">\r\n                                <label >{lesson.subject}</label>\r\n                            </div>\r\n                            <div className=\"col labelLessonModification\">\r\n                                <label>{lesson.chapter}</label>\r\n                            </div>\r\n                            {/* <div className=\"col\">\r\n                                <select id=\"inputStateMatiere\" className=\"form-control\" onChange={(e)=>{setMatiere(e.target.value)}}>\r\n                                    <option  className=\"defaultValue\" value={lesson.subject}>{lesson.subject}</option>\r\n                                    <option disabled></option>\r\n                                    {subjects.map(subject=>{\r\n                                        return(\r\n                                            <option key={subject} value={subject}>{subject}</option>\r\n                                        )\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <select id=\"inputStateChapitre\" className=\"form-control\" onChange={(e)=>{setChapitre(e.target.value)}}>\r\n                                    <option  className=\"defaultValue\" value={lesson.chapter}>{lesson.chapter}</option>\r\n                                    <option disabled></option>\r\n                                    {chapters.map(chapter=>{\r\n                                        return(\r\n                                            <option key={chapter} value={chapter}>{chapter}</option>\r\n                                        )\r\n                                    })}\r\n                                </select>\r\n                            </div> */}\r\n                            <div className=\"col\" id=\"lessonNumberID\">\r\n                                <input type=\"number\" className=\"form-control\" placeholder=\"chapitre N\" id=\"lessNumber\"\r\n                                    value={lessNumber}\r\n                                    onChange={(e) => setLessonNumber(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Titre de la leon\" id=\"leconTitle\"\r\n                                value={leconTitle}\r\n                                onChange={(e) => setLeconTitle(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <input type=\"url\" className=\"form-control\" placeholder=\"Url de la vido Youtube\" id=\"ytbUrl\"\r\n                                value={clip}\r\n                                onChange={(e) => setClip(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        \r\n                        <Editor\r\n                            editorState={cours}\r\n                            // toolbarClassName=\"toolbarClassName\"\r\n                            // wrapperClassName=\"wrapperClassName\"\r\n                            editorClassName='editorClassName'\r\n                            onEditorStateChange={onEditorStateChangeCours}\r\n                        /> \r\n                        \r\n                        <button type=\"button\" className=\"btn btn-primary\"\r\n                                onClick={() => updateLesson()}\r\n                        >\r\n                            Mettre  jour\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"card col add-card-Modification\">\r\n                        <h1>Prvisualtion leon</h1>\r\n                        <div>\r\n                            {\r\n                                cours !== \"\" ?\r\n                                    <InlineTex texContent={draftToHtml(convertToRaw(cours.getCurrentContent()))}/> : \"\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <h1>{errorMessage}</h1>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>Chargement de la base de donne</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Modification","import React, {useEffect, useState, useContext, Component} from 'react'\nimport {useParams, useHistory} from 'react-router-dom'\nimport {UserContext} from '../../App'\nimport './ChapterModification.css';\nimport Cookies from 'universal-cookie';\n\nimport { convertFromHTML, convertFromRaw} from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport { InlineTex } from 'react-tex'\nimport {EditorState, convertToRaw, ContentState} from 'draft-js';\n\nimport firebase from '@firebase/app'\n// eslint-disable-next-line\nimport storage from '@firebase/storage'\n\nimport {toast} from 'react-toastify';  \nimport 'react-toastify/dist/ReactToastify.css'; \ntoast.configure()\n\nconst config = {\n    \"apiKey\": process.env.REACT_APP_API_KEY,\n    \"authDomain\": process.env.REACT_APP_API_authDomain,\n    \"databaseURL\": process.env.REACT_APP_API_databaseURL,\n    \"projectId\": process.env.REACT_APP_API_projectId,\n    \"storageBucket\": process.env.REACT_APP_API_storageBucket,\n    \"messagingSenderId\": process.env.REACT_APP_API_messagingSenderId,\n    \"appId\": process.env.REACT_APP_API_appId,\n    \"measurementId\": process.env.REACT_APP_API_measurementId\n}\n\n\nconst ChapterModification = ()=>{\n    const cookies = new Cookies()\n    const {state, dispatch} = useContext(UserContext)\n    const history = useHistory()\n    const testExpiredToken = () => {\n        localStorage.clear()\n        //Clear Cookies\n        cookies.remove('jwt', {path:'/'})\n        // Clear Cookies\n        dispatch({type: \"CLEAR\"})\n        history.push('/login')\n\t}\n    useEffect(()=>{\n        fetch('/api/tokenIsOk',{\n            headers:{\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\n                Authorization:\"Bearer \"+ cookies.get('jwt')\n            }\n        })\n        .then(res=>res.json())\n        .then(result=>{\n            if(result.tokenOk === true){\n                return\n            }\n            else{\n                testExpiredToken()\n            }\n        })\n    },[])\n\n\n    const postId = useParams()\n    const [chapitre, setChapitre] = useState(\"\")\n    const [matiere, setMatiere] = useState(\"\")\n    const [chapterNumber,setChapterNumber] = useState(\"\")\n    const [chapterTitle, setChapterTitle] = useState(\"\")\n    const [desc, setDesc] = useState(\"\")\n    const [url, setUrl] = useState(\"\")\n    \n    // const ContentState = Draft.ContentState\n    useEffect(()=>{\n        fetch(`/api/chapterModification/${postId.id}`,{\n            headers:{\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                Authorization:\"Bearer \"+ cookies.get('jwt')\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result)\n            setUrl(result[0].illustration)\n            // document.getElementById('progressBar').value = 100\n            setChapitre(result[0])\n            setMatiere(result[0].subject)\n            setChapterNumber(result[0].chapterNumber)\n            setChapterTitle(result[0].chapterTitle)\n            const coursHTML = convertFromHTML(result[0].description)\n            setDesc(EditorState.createWithContent(ContentState.createFromBlockArray(coursHTML.contentBlocks, coursHTML.entityMap)))\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    },[])\n\n    const onEditorStateChangeCours = (e) => {\n        setDesc(e)\n    }\n\n    const [subjects, setsubjects] = useState([])\n    const [errorMessage, setErrorMessage] = useState([])\n    const [allow, setAllow] = useState([])\n    \n    useEffect(()=>{\n        fetch('/api/subjects',{\n            headers:{\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                Authorization:\"Bearer \"+ cookies.get('jwt')\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            if(result.allow === true){\n                setsubjects(result.subjects)\n                setAllow(result.allow)\n            }\n            else{\n                setErrorMessage(result.error)\n            }\n        })\n    },[])\n\n\n\n    if(!firebase.apps.length){\n        firebase.initializeApp(config)\n    }\n\n    const storage = firebase.storage()\n    const submitButton = (file)=>{\n        document.getElementById('buttonDeleteIllu').disabled = true\n        const imageExtension = file.name.split(\".\")[file.name.split(\".\").length - 1];\n        const filename = `${(Math.random().toString(36).substr(2, 13) + '-' + Math.random().toString(36).substr(2, 13)+ '-' + Math.random().toString(36).substr(2, 13)).toString()}.${imageExtension}`;\n        let locationRef = storage.ref('img/' + filename)\n        let task = locationRef.put(file)\n        task.on('state_changed', \n            function progress(snapshot){ //progress\n                let per = (snapshot.bytesTransferred / snapshot.totalBytes) *100;\n                let uploader = document.getElementById('progressBar')\n                uploader.value = per;\n            },\n            function error(error){ },\n            function complete(){\n                locationRef.getDownloadURL()\n                .then((url)=>{\n                    // console.log(url)\n                    setUrl(url)\n                    document.getElementById('buttonDeleteIllu').disabled = false\n                })\n                .catch(err=>{\n                    console.log(err)\n                })\n              }\n        )\n    }\n    const getPathStorageFromUrl = ()=>{\n        // console.log(url)\n        const baseUrl = \"https://firebasestorage.googleapis.com/v0/b/feedesmaths.appspot.com/o/\"\n        let imagePath = url.replace(baseUrl,\"\")\n        const indexOfEndPath = imagePath.indexOf(\"?\")\n        imagePath = imagePath.substring(0,indexOfEndPath)\n        imagePath = imagePath.replace(\"%2F\",\"/\")\n        // console.log(imagePath)\n        return imagePath;\n    }\n    const getName = ()=>{\n        const baseUrl = \"https://firebasestorage.googleapis.com/v0/b/feedesmaths.appspot.com/o/\"\n        let imagePath = url.replace(baseUrl,\"\")\n        const indexOfEndPath = imagePath.indexOf(\"?\")\n        imagePath = imagePath.substring(0,indexOfEndPath)\n        imagePath = imagePath.replace(\"img%2F\",\"\")\n        // console.log(imagePath)\n        return imagePath;\n    }\n\n    const deleteFile = () =>{\n        if(url){\n            // console.log(url)\n            // setUrl(\"\")\n            const imagePath = getPathStorageFromUrl()\n            const desertRef = storage.ref().child(imagePath);\n            desertRef.delete()\n            .then(()=>{\n                const url = \"\"\n                setUrl(url)\n                document.getElementById('submitButton').value = \"\"\n                document.getElementById('progressBar').value = 0\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n        }\n    }\n\n    const updateChapter = ()=>{\n        console.log(chapitre)\n        fetch('/api/updateChapter', {\n            method: \"post\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization:\"Bearer \"+ cookies.get('jwt')\n            },\n            body: JSON.stringify({\n                chapterId:chapitre.chapterId,\n                chapterNumber,\n                chapterTitle,\n                description:draftToHtml(convertToRaw(desc.getCurrentContent())),\n                illustration:url,\n                subject:matiere\n            })\n        })\n        .then(res => res.json())\n        .then((result)=>{\n            if(result.createlesson === true){\n                toast.success(`${chapterTitle} updated`,{autoClose: 3000})\n                history.push('/mypost')\n            }\n            else{\n                toast.error(result.error, {autoClose: 3000})\n            }\n        })\n        .catch(err=>{\n            console.error(err)\n        })  \n    }\n\n    const replaceIllustration = () =>{\n        if(url){\n            const imageName = getName(url)\n            return(\n                <div>\n                    <label>precedente illustration : </label>\n                    <div id=\"illustrationInfo\">\n                        <label>{`${imageName}`}</label>\n                        <div>\n                            <progress value=\"100\" max=\"100\" id=\"progressBar\">100%</progress>    \n                        </div>\n                        <button id=\"buttonDeleteIllu\" className=\"btn\" onClick={()=>{deleteFile()}}><i className=\"fa fa-close\"></i></button>\n                    </div>\n                </div>\n            )   \n        }\n        else{\n            return(\n                <div className=\"input-group spaceAdd\">\n                    <div className=\"custom-file\">\n                        <input type=\"file\" id=\"submitButton\" onChange={(e)=>submitButton(e.target.files[0])}/>\n                        <div>\n                            <progress value=\"0\" max=\"100\" id=\"progressBar\">0%</progress>    \n                        </div>\n                        <button id=\"buttonDeleteIllu\" className=\"btn\" onClick={()=>{deleteFile()}}><i className=\"fa fa-close\"></i></button>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    const showIllustration = ()=>{\n        if(url){\n            return(\n                <img className=\"card-img\" id=\"modificationImageChapter\" src={url} alt=\"Cardimagecap\"></img>\n            )\n        }\n    }\n\n\n    if(chapitre){\n        if(allow === true){\n            return(\n                <div className=\"form-row mcl\">\n                    <div className=\"card col add-card-Modification\">\n                        <h1>Modifier un chapitre</h1>\n                        <div className=\"form-row mcl\" id=\"spaceModification\">\n                            <div className=\"col subjectChapterModif\" id=\"subjectChapterModification\">\n                                <label  id=\"labelChapterModification\">{chapitre.subject}</label>\n                            </div>\n                            {/* <div className=\"col\">\n                                <select id=\"inputStateMatiere\" className=\"form-control\" onChange={(e)=>{setMatiere(e.target.value)}}>\n                                    <option  className=\"defaultValue\" value={chapitre.subject}>{chapitre.subject}</option>\n                                    <option disabled></option>\n                                    {subjects.map(subject=>{\n                                        return(\n                                            <option key={subject} value={subject}>{subject}</option>\n                                        )\n                                    })}\n                                </select>\n                            </div> */}\n                            <div className=\"col\">\n                                <input type=\"number\" className=\"form-control\" placeholder=\"chapitre N\" id=\"chapterNumber\"\n                                    value={chapterNumber}\n                                    onChange={(e) => setChapterNumber(e.target.value)}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Titre de la leon\" id=\"chapterTitle\"\n                                value={chapterTitle}\n                                onChange={(e) => setChapterTitle(e.target.value)}\n                            />\n                        </div>\n\n                        {replaceIllustration()}\n                        \n                        <Editor\n                            editorState={desc}\n                            // toolbarClassName=\"toolbarClassName\"\n                            // wrapperClassName=\"wrapperClassName\"\n                            editorClassName='editorClassName'\n                            onEditorStateChange={onEditorStateChangeCours}\n                        /> \n                        \n                        <button type=\"button\" className=\"btn btn-primary\"\n                                onClick={() => updateChapter()}\n                        >\n                            Mettre  jour\n                        </button>\n                    </div>\n                    <div className=\"card col add-card-Modification\">\n                        <h1>Prvisualtion chapitre</h1>\n                        {showIllustration()}\n                        <div>\n                            {\n                                desc !== \"\" ?\n                                    <InlineTex texContent={draftToHtml(convertToRaw(desc.getCurrentContent()))}/> : \"\"\n                            }\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n        else{\n            return(\n                <div>\n                    <h1>{errorMessage}</h1>\n                </div>\n            )\n        }\n    }\n    else{\n        return(\n            <div>\n                <h1>Chargement de la base de donne</h1>\n                <div className=\"cs-loader\">\n                    <div className=\"cs-loader-inner\">\n                        <label></label>\n                        <label></label>\n                        <label></label>\n                        <label></label>\n                        <label></label>\n                        <label></label>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\nexport default ChapterModification","export const initialState  = null\r\n\r\nexport const reducer = (state, action)=>{\r\n    if(action.type===\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type===\"CLEAR\"){\r\n        return null\r\n    }\r\n    return state\r\n}","import React, {useState, useEffect, useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {UserContext} from '../../App'\nimport { InlineTex } from 'react-tex'\nimport './AddQuiz.css'\nimport dotenv from 'dotenv'\nimport Cookies from 'universal-cookie';\n\nimport {Editor} from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport draftToHtml from 'draftjs-to-html';\nimport {EditorState, convertToRaw, ContentState} from 'draft-js';\n\nimport firebase from '@firebase/app'\nimport storage from '@firebase/storage'\n\nimport {toast} from 'react-toastify';  \nimport 'react-toastify/dist/ReactToastify.css'; \ntoast.configure()\n\nconst Addquiz = () => {\n    const cookies = new Cookies()\n\n    const {state, dispatch} = useContext(UserContext)\n    const history = useHistory()\n\n    const testExpiredToken = () => {\n        localStorage.clear()\n        //Clear Cookies\n        cookies.remove('jwt', {path:'/'})\n        // Clear Cookies\n        dispatch({type: \"CLEAR\"})\n        history.push('/login')\n}\n\n    useEffect(()=>{\n        fetch('/api/tokenIsOk',{\n            headers:{\n                Authorization:\"Bearer \"+ cookies.get('jwt')\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        })\n        .then(res=>res.json())\n        .then(result=>{\n            if(result.tokenOk === true){\n                return\n            }\n            else{\n                testExpiredToken()\n            }\n        })\n    },[])\n\n\n    // const [lessonClip,setLessonClip] = useState(\"\")\n    const [lecon, setLecon] = useState(\"\")\n    const [chapitre, setChapitre] = useState(\"\")\n    const [matiere, setMatiere] = useState(\"\")\n    const [questionNumber,setQuestionNumber] = useState(\"\")\n    const [question, setQuestion] = useState(\"\")\n    const [answersA, setAnswersA] = useState(\"\")\n    const [answersB, setAnswersB] = useState(\"\")\n    const [answersC, setAnswersC] = useState(\"\")\n    const [answersD, setAnswersD] = useState(\"\")\n    const [correctAnswer, setCorrectAnswer] = useState([])\n\n\n\n    \n\n    useEffect(()=>{\n        const coursHTML = \"nonc de votre question : \"\n        setQuestion(EditorState.createWithContent(ContentState.createFromText(coursHTML)))\n    },[])\n\n\n    useEffect(()=>{\n        if(allow === true){\n            if(!answersA){\n                document.getElementById(\"checkA\").disabled = true;\n            }\n            else{\n                document.getElementById(\"checkA\").disabled = false;\n            }\n            if(!answersB){\n                document.getElementById(\"checkB\").disabled = true;\n            }\n            else{\n                document.getElementById(\"checkB\").disabled = false;\n            }\n            if(!answersC){\n                document.getElementById(\"checkC\").disabled = true;\n            }\n            else{\n                document.getElementById(\"checkC\").disabled = false;\n            }\n            if(!answersD){\n                document.getElementById(\"checkD\").disabled = true;\n            }\n            else{\n                document.getElementById(\"checkD\").disabled = false;\n            }\n        }\n    },[answersA, answersB, answersC, answersD])\n\n\n\n\n    const onEditorStateChangeQuestion = (e) => {\n        setQuestion(e)\n    }\n\n    const checkCorrectAnswer = () => {\n        var tab = []\n        const checkBox = document.getElementById(\"checkA\");\n        const checkBox2 = document.getElementById(\"checkB\");\n        const checkBox3 = document.getElementById(\"checkC\");\n        const checkBox4 = document.getElementById(\"checkD\");\n        if (checkBox.checked == true){\n            tab.push(checkBox.value)\n        }\n        if (checkBox2.checked == true){\n            tab.push(checkBox2.value)\n        }\n        if (checkBox3.checked == true){\n            tab.push(checkBox3.value)\n        }\n        if (checkBox4.checked == true){\n            tab.push(checkBox4.value)\n        }\n        if(tab === []){\n            return ({err: 'Select minimum 1 correct answer'})\n        }\n        return tab\n    }\n\n    const postQuiz = async ()=>{\n        const tab = await checkCorrectAnswer()\n        if(tab.length > 0){\n            fetch('/api/createQuiz', {\n                method: \"post\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\n                    // \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n                },\n                body: JSON.stringify({\n                    // ACCESDB\n                    subject:matiere,\n                    chapter:chapitre,\n                    lessonId:lecon,\n                    // COMPO QUIZ\n                    question: draftToHtml(convertToRaw(question.getCurrentContent())),\n                    questionNumber:parseInt(questionNumber),\n                    optionA:answersA,\n                    optionB:answersB,\n                    optionC:answersC,\n                    optionD:answersD,\n                    answer:tab\n                })\n            })\n            .then(res => res.json())\n            .then((result)=>{\n                if(result.createQuestion === true){\n                    toast.success(`${'Quiz'} added`, {autoClose: 3000})                \n                }\n                else{\n                    toast.error(result.error, {autoClose: 3000})\n                }\n            })\n            .catch(err=>{\n                console.error(err)\n            })\n        }\n        else{\n            toast.error('Select minimum 1 correct answer', {autoClose: 3000})\n        }\n    }\n\n\n    const [subjects, setsubjects] = useState([])\n    const [errorMessage, setErrorMessage] = useState([])\n    const [allow, setAllow] = useState([])\n    useEffect(()=>{\n        fetch('/api/subjects',{\n            headers:{\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                Authorization:\"Bearer \"+ cookies.get('jwt')\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            if(result.allow === true){\n                setsubjects(result.subjects)\n                setAllow(result.allow)\n            }\n            else{\n                setErrorMessage(result.error)\n            }\n        })\n    },[])\n\n    const [chapters, setChapters] = useState([])\n    const [errorMessageChapter, setErrorMessageChapter] = useState([])\n    // const [allowChapters, setAllowChapters] = useState([])\n    useEffect(()=>{\n        if(matiere === \"\" || matiere === \"undifined\"){\n            fetch('/api/chapters',{\n                headers:{\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\n\n                }\n            }).then(res=>res.json())\n            .then(result=>{\n                if(result.allow === true){\n                    setChapters(result.chapters)\n                    // setAllowChapters(result.allow)\n                }\n                else{\n                    setErrorMessageChapter(result.error)\n                }\n            })\n        }\n        else{\n            fetch('/api/chaptersPrecis',{\n                method: \"post\",\n                headers:{\n                    \"Content-Type\": \"application/json\",\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\n\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                },\n                body:JSON.stringify({\n                    subject:matiere\n                })\n            }).then(res=>res.json())\n            .then(result=>{\n                if(result.allow === true){\n                    setChapters(result.chapters)\n                    // setAllowChapters(result.allow)\n                    // console.log(result)\n                }\n                else{\n                    setErrorMessageChapter(result.error)\n                }\n            })\n        }\n    },[matiere])\n\n\n\n    // GET LESSONS\n    const [lessons, setLessons] = useState([])\n    const [errorMessageLesson, setErrorMessageLesson] = useState([])\n\n    useEffect(()=>{\n        if((matiere === \"\" || matiere === \"undifined\") || ( chapitre === \"\" || chapitre === \"undifined\")){\n            fetch('/api/lesson',{\n                headers:{\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                }\n            }).then(res=>res.json())\n            .then(result=>{\n                // console.log(result)\n                if(result.allow === true){\n                    setLessons(result.lessons)\n                }\n                else{\n                    setErrorMessageLesson(result.error)\n                }\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n        }\n        else{\n            fetch('/api/lessonWithEverything',{\n                method: \"post\",\n                headers:{\n                    \"Content-Type\": \"application/json\",\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                },\n                body:JSON.stringify({\n                    subject:matiere,\n                    chapter:chapitre\n                })\n            }).then(res=>res.json())\n            .then(result=>{\n                if(result.allow === true){\n                    setLessons(result.lessons)\n                }\n                else{\n                    setErrorMessageLesson(result.error)\n                }\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n        }\n    },[matiere, chapitre])\n\n\n    const [existingQuiz, setExistingQuiz] = useState([])\n    useEffect(()=>{\n        if(matiere && chapitre){\n            // console.log(matiere, chapitre, lecon)\n            fetch('/api/getQuiz',{\n                method: \"post\",\n                headers:{\n                    \"Content-Type\": \"application/json\",\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\n                },\n                body:JSON.stringify({\n                    subject:matiere,\n                    chapter:chapitre,\n                    lessonId:lecon\n                })\n            })\n            .then(res => res.json())\n            .then((result)=>{\n                // console.log(result)\n                setExistingQuiz(result)\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n            // console.log(\"fetch\")\n        }\n        // else{\n            // console.log('nothing')\n        // }\n    },[matiere, chapitre, lecon])\n\n\n    const displayIfAnswerA = ()=>{\n        if(!answersA){\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={\"answer A is empty\"}/>}</label>)\n        }\n        else{\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={answersA}/>}</label>)\n        }\n    }\n    const displayIfAnswerB = ()=>{\n        if(!answersB){\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={\"answer B is empty\"}/>}</label>)\n        }\n        else{\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={answersB}/>}</label>)\n        }\n    }\n    const displayIfAnswerC = ()=>{\n        if(!answersC){\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={\"answer C is empty\"}/>}</label>)\n        }\n        else{\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={answersC}/>}</label>)\n        }\n    }\n    const displayIfAnswerD = ()=>{\n        if(!answersD){\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={\"answer D is empty\"}/>}</label>)\n        }\n        else{\n            return(<label  className=\"row form-control labelAddQuiz\">{<InlineTex texContent={answersD}/>}</label>)\n        }\n    }\n\n    const displaySubject = ()=>{\n        if(!matiere){\n            return(<label  className=\"form-control labelAddQuiz\">{\"Selectionnez une matiere\"}</label>)\n        }\n        else{\n            return(<label  className=\"form-control labelAddQuiz\">{matiere}</label>)\n        }\n    }\n    const displayChapter = ()=>{\n        if(!chapitre){\n            return(<label  className=\"form-control labelAddQuiz\">{\"Selectionnez un chapitre\"}</label>)\n        }\n        else{\n            return(<label  className=\"form-control labelAddQuiz\">{chapitre}</label>)\n        }\n    }\n    const displayLesson = ()=>{\n        if(lecon){\n            return(<label  className=\"form-control labelAddQuiz\">{`${lecon}`}</label>)\n        }\n    }\n    const displayQuestionNumber = ()=>{\n        if(!questionNumber){\n            return(<label  className=\"form-control labelAddQuiz\" id=\"questNumber\">{`N de la question`}</label>)\n        }\n        else{\n            return(<label  className=\"form-control labelAddQuiz\" id=\"questNumber\">{`N ${questionNumber}`}</label>)\n        }\n    }\n\n\n    if(allow === true){\n        return(\n            <div>\n                <div className=\"form-row mcl\">\n                    <div className=\"card col add-card-AddQuestion\">\n                        <h1>Ajouter une question</h1>\n                        <div className=\"form-row mcl\">\n                            <div className=\"col\">\n                                <select id=\"inputStateMatiere\" className=\"form-control\" onChange={(e)=>{setMatiere(e.target.value)}}>\n                                    <option  className=\"defaultValue\" value=\"undifined\">Matires : </option>\n                                    {subjects.map(subject=>{\n                                        return(\n                                            <option key={Math.random()} value={subject}>{subject}</option>\n                                        )\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col\">\n                                <select id=\"inputStateChapitre\" className=\"form-control\" onChange={(e)=>{setChapitre(e.target.value)}}>\n                                    <option  className=\"defaultValue\" value=\"undifined\">Chapitres : </option>\n                                    {chapters.map(chapter=>{\n                                        return(\n                                            <option key={Math.random()} value={chapter}>{chapter}</option>\n                                        )\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col\">\n                                <select id=\"inputStateChapitre\" className=\"form-control\" onChange={(e)=>{setLecon(e.target.value)}}>\n                                    <option  className=\"defaultValue\" value=\"undifined\">Lecon : </option>\n                                    {lessons.map(lesson=>{\n                                        return(\n                                            <option key={Math.random()} value={lesson.lessonId}>{lesson.lessonTitle}</option>\n                                        )\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col\">\n                                <input type=\"number\" className=\"form-control\" placeholder=\"Question N\" id=\"questionNumber\"\n                                    value={questionNumber}\n                                    onChange={(e) => setQuestionNumber(e.target.value)}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <Editor\n                                id=\"question\"\n                                editorState={question}\n                                toolbarClassName=\"toolbarClassName\"\n                                wrapperClassName=\"wrapperClassName\"\n                                editorClassName=\"editorClassName\"\n                                onEditorStateChange={onEditorStateChangeQuestion}\n                                toolbar={{\n                                    fontFamily: {\n                                        options: ['Arial', 'Georgia', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana', 'Chalkduster Regular'],\n                                        className: undefined,\n                                        component: undefined,\n                                        dropdownClassName: undefined,\n                                    }\n                                }}\n                            />\n                        </div>\n                        <div className=\"form-row mcl\">\n                            <div className=\"col\">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"rponse A :\" id=\"answersA\"\n                                    value={answersA}\n                                    onChange={(e) => setAnswersA(e.target.value)}\n                                />\n                            </div>\n                            <div className=\"form-check col\">\n                                <input className=\"form-check-input\" type=\"checkbox\" value={answersA} id=\"checkA\"/>\n                            </div>\n                        </div>\n                        <div className=\"form-row mcl\">\n                            <div className=\"col\">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"rponse B :\" id=\"answersB\"\n                                    value={answersB}\n                                    onChange={(e) => setAnswersB(e.target.value)}\n                                />\n                            </div>\n                            <div className=\"form-check col\">\n                                <input className=\"form-check-input\" type=\"checkbox\" value={answersB} id=\"checkB\"/>\n                            </div>\n                        </div>\n                        <div className=\"form-row mcl\">\n                            <div className=\"col\">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"rponse C :\" id=\"answersC\"\n                                    value={answersC}\n                                    onChange={(e) => setAnswersC(e.target.value)}\n                                />\n                            </div>\n                            <div className=\"form-check col\">\n                                <input className=\"form-check-input\" type=\"checkbox\" value={answersC} id=\"checkC\"/>\n                            </div>\n                        </div>\n                        <div className=\"form-row mcl\">\n                            <div className=\"col\">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"rponse D :\" id=\"answersD\"\n                                    value={answersD}\n                                    onChange={(e) => setAnswersD(e.target.value)}\n                                />\n                            </div>\n                            <div className=\"form-check col\">\n                                <input className=\"form-check-input\" type=\"checkbox\" value={answersD} id=\"checkD\"/>\n                            </div>\n                        </div>\n                        <button className=\"btn btn-primary\" onClick={()=>{postQuiz()}}>\n                                Ajouter la question\n                        </button>\n                    </div>\n                    <div className=\"card col add-card-AddQuestion\">\n                        <div className=\"row bothParts\">\n                            <div className=\"col\">\n                                <h3>PREVISU QUESTIONS</h3>\n                                <div id=\"quizWay\">\n                                    {\n                                        displaySubject()\n                                    }\n                                    {\n                                        displayChapter()\n                                    }\n                                    {\n                                        displayLesson()\n                                    }\n                                    {\n                                        displayQuestionNumber()\n                                    }   \n                                </div>\n                                <div id=\"sizeQuestionRender\">\n                                    {\n                                        question !== \"\" ?\n                                        <label  className=\"form-control labelAddQuiz\">{<InlineTex texContent={draftToHtml(convertToRaw(question.getCurrentContent()))}/>}</label>\n                                        : \"\"\n                                    }\n                                </div>\n                                <div className=\"col\">\n                                    {\n                                        displayIfAnswerA()\n                                    }\n                                    {\n                                        displayIfAnswerB()\n                                    }\n                                    {\n                                        displayIfAnswerC()\n                                    }\n                                    {\n                                        displayIfAnswerD()\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"bothParts\">\n                            <h3>Questions existantes</h3>\n                            <div id=\"text\">\n                                {\n                                    existingQuiz.map(question=>{\n                                        return(\n                                            <div id=\"singleQuestion\" key={Math.random()}>\n                                                <label  className=\"form-control labelAddQuiz\">{<InlineTex texContent={`${question.question}`}/>}</label>\n                                                <label  className=\"form-control labelAddQuiz\" id=\"existingQuestionNumber\">{`N ${question.questionNumber}`}</label>\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    else{\n        return(\n            <div>\n                <h1>{errorMessage}</h1>\n            </div>\n        )\n    }\n}\n\n\nexport default Addquiz","import React, {useEffect, useState, useContext, Component} from 'react'\r\nimport {Link, useParams, useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport './CourPrecis.css';\r\nimport Cookies from 'universal-cookie';\r\n\r\n\r\nimport { convertFromRaw } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport { InlineTex } from 'react-tex'\r\nimport {EditorState, convertToRaw, ContentState} from 'draft-js';\r\n\r\nimport {toast} from 'react-toastify';  \r\nimport 'react-toastify/dist/ReactToastify.css';  \r\ntoast.configure()\r\n\r\n\r\nconst CoursPrecis = ()=>{\r\n    const cookies = new Cookies()\r\n\r\n    const [cours ,setCours]=useState([])\r\n    const {state, dispatch} = useContext(UserContext)\r\n    const coursId = useParams()\r\n    const history = useHistory()\r\n\r\n    const testExpiredToken = () => {\r\n        localStorage.clear()\r\n        //Clear Cookies\r\n        cookies.remove('jwt', {path:'/'})\r\n        // Clear Cookies\r\n        dispatch({type: \"CLEAR\"})\r\n        history.push('/login')\r\n    }\r\n    useEffect(()=>{\r\n        fetch('/api/tokenIsOk',{\r\n            headers:{\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.tokenOk === true){\r\n                return\r\n            }\r\n            else{\r\n                testExpiredToken()\r\n            }\r\n        })\r\n    },[])\r\n\r\n    const [note, setNote] = useState(\"\")\r\n    useEffect(()=>{\r\n        fetch(`/api/getSpecificCourse/${coursId.id}`,{\r\n            headers:{\r\n                // \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            setCours(result)\r\n            getScore(result)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[])\r\n    \r\n    const getScore = (res) =>{\r\n        // console.log(res[0].chapterTitle)\r\n        const chapterTitle = res[0].chapterTitle\r\n        fetch(`/api/getQuizScoreForChapter/${chapterTitle}`, {\r\n            headers:{\r\n                // Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            if(result.length>0){\r\n                // console.log(result)\r\n                setNote(result)\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const [buttonUsed ,setButtonUsed] = useState(\"\")\r\n    const validate = (subject, lessonId, chapterTitle, chapterId)=>{\r\n        setButtonUsed(lessonId)\r\n        fetch('/api/validateProgression', {\r\n            method: \"post\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\",\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                chapterId,\r\n                lessonId\r\n            })\r\n        // })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            toast.success(result.message, {autoClose: 3000})\r\n        })\r\n        .then(()=>{\r\n            fetch('/api/globalProgression',{\r\n                method: \"post\",\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\",\r\n                    // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                    Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n                },\r\n                body: JSON.stringify({\r\n                    subject,\r\n                    chapterId,\r\n                    lessonId,\r\n                    chapterTitle\r\n                })  \r\n            })\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n            // toast.error(err, {autoClose: 3000})\r\n        })\r\n    }\r\n\r\n    const IllustrationSetUp = (illustration)=>{\r\n        if(illustration != \"\"){\r\n            return(\r\n                <img className=\"card-img\" id=\"lessonImage\" src={illustration} alt=\"Cardimagecap\"></img>\r\n            )\r\n        }\r\n    }\r\n\r\n    /////ACTUALISATION DES QUE BTN VALIDER\r\n    const [percentage ,setPercentage]=useState([])\r\n    useEffect(()=>{\r\n        fetch(`/api/checkProgression/${coursId.id}`,{\r\n            headers:{\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            setPercentage(result.chapterProgression)\r\n        })\r\n    },[buttonUsed])\r\n  \r\n    const displayLessons = () => {\r\n        document.getElementById(\"lessonToHide\").style.display = \"flex\"\r\n        document.getElementById(\"lecons\").style.display = \"block\"\r\n        document.getElementById(\"quiz\").style.display = \"none\"\r\n        document.getElementById(\"showScore\").style.display = \"none\"\r\n    }\r\n    const displayQuestions = () => {\r\n        searchQuiz()\r\n        document.getElementById(\"lessonToHide\").style.display = \"none\"\r\n        document.getElementById(\"quiz\").style.display = \"block\"\r\n        document.getElementById(\"lecons\").style.display = \"none\"\r\n        document.getElementById(\"showScore\").style.display = \"none\"\r\n    }\r\n\r\n\r\n\r\n\r\n    const [questions, setQuestions] = useState([])\r\n\r\n    const searchQuiz = ()=>{\r\n        fetch('/api/getQuizWChapterId',{\r\n            method: \"post\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\",\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n            },\r\n            body:JSON.stringify({\r\n                subject:cours[0].subject,\r\n                chapterId:cours[0].chapterId,\r\n                lessonId:\"undefined\"\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            if(result.length>0){\r\n                setQuestions(result)\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const [score, setScore] = useState(0)\r\n    const sendQuizAnswer = ()=>{\r\n        var empty = true\r\n        for(var i = 0; i<questions.length; i++){\r\n            const checkBox = document.getElementById(`${i}checkA`)\r\n            const checkBox2 = document.getElementById(`${i}checkB`)\r\n            const checkBox3 = document.getElementById(`${i}checkC`)\r\n            const checkBox4 = document.getElementById(`${i}checkD`)\r\n    \r\n            if(checkBox.checked == true || checkBox2.checked == true || checkBox3.checked == true || checkBox4.checked == true){\r\n                empty = false\r\n            }\r\n        }\r\n\r\n        if(!empty){\r\n            document.getElementById(\"quiz\").style.display = \"none\"\r\n            document.getElementById(\"showScore\").style.display = \"block\"\r\n            // document.getElementById(\"waitingScreen\").style.display = \"block\"\r\n\r\n            var totalScore = 0\r\n            // var reponse = {}\r\n            for(var i = 0; i<questions.length; i++){\r\n                const nbrCorrectAns = questions[i].answer.length\r\n\r\n                const checkBox = document.getElementById(`${i}checkA`)\r\n                const checkBox2 = document.getElementById(`${i}checkB`)\r\n                const checkBox3 = document.getElementById(`${i}checkC`)\r\n                const checkBox4 = document.getElementById(`${i}checkD`)\r\n                for(var y = 0; y<nbrCorrectAns;y++){\r\n                    // console.log(\"question \",i,\" check answer \", y, \"/\", nbrCorrectAns-1)\r\n                    if (checkBox.checked == true){\r\n                        if(checkBox.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n                        }\r\n                    }\r\n                    if (checkBox2.checked == true){\r\n                        if(checkBox2.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n\r\n                        }\r\n                    }\r\n                    if (checkBox3.checked == true){\r\n                        if(checkBox3.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n\r\n                        }\r\n                    }\r\n                    if (checkBox4.checked == true){\r\n                        if(checkBox4.value === questions[i].answer[y]){\r\n                            totalScore += 1/nbrCorrectAns\r\n                        }\r\n                        else{\r\n                            totalScore -= 0.4\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // calcul/20\r\n            var finalScore = ((totalScore*20)/questions.length).toFixed(2)\r\n            if(finalScore < 0){\r\n                finalScore = 0\r\n            }\r\n            setScore(finalScore)\r\n            setNote(finalScore)\r\n            showScore(finalScore)\r\n        }\r\n        else{\r\n            toast.error(\"vrifier vos rponses !\", {autoClose: 3000})\r\n        }\r\n    }\r\n\r\n    const showScore = (finalScore)=>{\r\n        //stockage en bdd\r\n        fetch('/api/postQuizzScore',{\r\n            method: \"post\",\r\n            headers:{\r\n                \"Content-Type\": \"application/json\",\r\n                // Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                Authorization:\"Bearer \"+ cookies.get('jwt')\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                chapterTitle:cours[0].chapterTitle,\r\n                lessonTitle:\"\",\r\n                subject:cours[0].subject,\r\n                note:finalScore\r\n            })  \r\n        })\r\n        .then(res => res.json())\r\n        .then((result)=>{\r\n            console.log(result.message)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const waiting = () =>{\r\n        return(\r\n            <div id=\"waitingScreen\">\r\n                <h1>Calcul de votre note</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const showNote = () =>{\r\n        return(\r\n            <>\r\n                <h1>{note}/20</h1>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const quizQuestion = () =>{\r\n        if(questions.length>0){\r\n            return(\r\n            <div className=\"containerQuiz mt-sm-5 my-1\">\r\n                <div className=\"question ml-sm-5 pl-sm-5 pt-2\">\r\n                    {questions.map((quest,index)=>{\r\n                        return(\r\n                        <div key={quest.question}>\r\n                            <div className=\"py-2 h5\" id=\"enonce\">\r\n                                {/* <h1>{cmpt}</h1> */}\r\n                                {/* AJOUT IMAGE SI IL Y EN A UNE ! */}\r\n        \r\n                                <b id=\"num\">{`Q${quest.questionNumber}.`}</b>\r\n                                <b><InlineTex texContent={quest.question}/></b>\r\n                            </div>\r\n                            <div className=\"ml-md-3 ml-sm-3 pl-md-5 pt-sm-0 pt-3\" id=\"options\">\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionA}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionA} id={`${index}checkA`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionB}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionB} id={`${index}checkB`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionC}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionC} id={`${index}checkC`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                                <label className=\"options\"><InlineTex texContent={quest.optionD}/>\r\n                                    <input type=\"checkbox\" name=\"checkbox\" value={quest.optionD} id={`${index}checkD`}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n        \r\n                <div className=\"d-flex align-items-center pt-3\">\r\n                    <div className=\"ml-auto mr-sm-5\">\r\n                        <button className=\"btn btn-success\" onClick={()=>{displayLessons()}}>retour  la lecon</button>\r\n                    </div>\r\n                    <div className=\"ml-auto mr-sm-5\">\r\n                        <button className=\"btn btn-success\" id=\"sendAnswer\" onClick={()=>{sendQuizAnswer()}}>Valider</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <h1>pas de quiz pour ce chapitre pour l'instant</h1>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    if (cours.length > 0) {\r\n        return (\r\n            <div id=\"fullLessonPage\">\r\n                <h1 id=\"lessonTitle\">{cours[0].chapterTitle}</h1>\r\n                <div id=\"lessonToHide\">\r\n                    <h5>created by {cours[1].postedByName}</h5>\r\n                    <div className=\"progress\" id=\"progressBarLesson\" style={{height: \"40px\"}}>\r\n                        {/* {REFAIRE PROGRESS BAR en js} */}\r\n                        <div className=\"progress-bar progress-bar-striped\" style={{width: `${percentage}%`}} role=\"progressbar\"\r\n                            aria-valuenow={percentage} aria-valuemin=\"0\" aria-valuemax=\"100\">Progression\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* <img className=\"card-img\" id=\"lessonImage\" src={cours[0].illustration} alt=\"Cardimagecap\"></img> */}\r\n                    {\r\n                        IllustrationSetUp(cours[0].illustration)\r\n                    }\r\n                    <div className=\"card\" id=\"lessonDescription\">\r\n                        <h2 className=\"card-title card-title-coursPrecis\">Description</h2>\r\n                        <p className=\"card-body\">\r\n                            <InlineTex texContent={cours[0].description}/>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div id=\"lessonPlan\">\r\n                    <div className=\"list-group\" id=\"list-tab\" role=\"tablist\">\r\n                        <div className=\"card\">\r\n                            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                                <div className=\"navbar-nav\">\r\n                                    <button className=\"btn btn-sm\" type=\"button\" onClick={()=>{displayLessons()}}>Leons :</button>\r\n                                    <button className=\"btn btn-sm\" type=\"button\" onClick={()=>{displayQuestions()}}>quiz :</button>\r\n                                </div>\r\n                            </nav>\r\n                            <div id=\"lecons\">\r\n                                <h2 className=\"list-group-item\" id=\"coursPrecisLeconTitreLecons\">Leons :</h2>\r\n                                {cours[2].lecons.map(item=>{\r\n                                    // console.log(item)\r\n                                    return(\r\n                                        // <a href={`#${item.lessonNumber}`} className=\"list-group-item list-group-item-action\" key={item.lessonId}/*onClick={()=>{currentLesson()}}*///data-toggle=\"list\"\r\n                                        <div key={item.lessonId} className=\"list-group-item\">\r\n                                            <Link to={'/lesson/'+item.lessonId} className=\"list-group-item list-group-item-action\" id=\"lessonPlanItems\">\r\n                                                {`leon ${item.lessonNumber} : ${item.lessonTitle}`}\r\n                                            </Link>\r\n                                            <button type=\"button\" className=\"btn btn-primary\" onClick={()=>{validate(item.subject, item.lessonId, item.chapter, item.chapterId)}}>\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                                    <path fillRule=\"evenodd\" d=\"M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z\"></path>\r\n                                                    <path fillRule=\"evenodd\" d=\"M1.5 13A1.5 1.5 0 0 0 3 14.5h10a1.5 1.5 0 0 0 1.5-1.5V8a.5.5 0 0 0-1 0v5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5h8a.5.5 0 0 0 0-1H3A1.5 1.5 0 0 0 1.5 3v10z\"></path>\r\n                                                </svg>\r\n                                                {/* Valider */}\r\n                                            </button>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n\r\n\r\n                            <div id=\"quiz\">\r\n                                {note?showNote():quizQuestion()}\r\n                            </div>\r\n                            <div id=\"showScore\">\r\n                                {showNote()}\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n    else{\r\n        return(\r\n            <div>\r\n                <h1>Chargement de la base de donne</h1>\r\n                <div className=\"cs-loader\">\r\n                    <div className=\"cs-loader-inner\">\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                        <label></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default CoursPrecis","import React, {useEffect, createContext, useReducer, useContext} from 'react';\r\nimport NavBar from './components/Navbar/Navbar'\r\nimport Header from './components/Header/Header'\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport {BrowserRouter, Route, Switch, useHistory} from 'react-router-dom'\r\n\r\n\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport PublicRoute from './components/PublicRoute';\r\n\r\n\r\nimport Home from './components/Home/Home'\r\nimport Login from './components/Login/Login'\r\nimport Profile from './components/Profil/Profile'\r\nimport Register from './components/Register/Register'\r\nimport Admin from './components/Admin/Admin'\r\nimport Settings from './components/Profil/Settings'\r\nimport Cours from './components/Cours/Cours'\r\nimport Addlesson from './components/Cours/Addlesson'\r\nimport Mescours from './components/Cours/MesCours'\r\nimport Juridique from './components/Juridique/Juridique'\r\nimport LeconPrecise from './components/Cours/LeconPrecise'\r\nimport Modification from './components/Cours/Modification'\r\nimport ChapterModification from './components/Cours/ChapterModification'\r\nimport {reducer, initialState} from './reducer/userReducer'\r\nimport Addquiz from './components/Cours/AddQuiz'\r\nimport CoursPrecis from './components/Cours/CourPrecis'\r\nimport './App.css'\r\n\r\n\r\nexport const UserContext = createContext()\r\n\r\nconst Routing = () => {\r\n    const history = useHistory()\r\n    const {state, dispatch} = useContext(UserContext)\r\n    useEffect(() => {\r\n        const user = JSON.parse(localStorage.getItem(\"user\"))\r\n        if (user) {\r\n            dispatch({type: \"USER\", playload: user})\r\n        } else {\r\n            history.push('/login')\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <Switch>\r\n            <PrivateRoute component={Home} path=\"/\" exact />\r\n\r\n            <PublicRoute restricted={false} component={Juridique} path=\"/juridique\" />\r\n            <PublicRoute restricted={false} component={Settings} path=\"/settings\" exact />\r\n            \r\n            <PublicRoute restricted={true} component={Login} path=\"/login\" exact />\r\n            <PublicRoute restricted={true} component={Register} path=\"/register\" exact />\r\n\r\n            <PrivateRoute component={Profile} path=\"/profile\" exact />\r\n            <PrivateRoute component={Admin} path=\"/admin\" exact />\r\n            <PrivateRoute component={Cours} path=\"/cours\" exact />\r\n            <PrivateRoute component={Mescours} path=\"/mypost\" exact />\r\n            <PrivateRoute component={Addlesson} path=\"/createpost\" exact />\r\n            <PrivateRoute component={CoursPrecis} path=\"/cours/:id\" />\r\n            <PrivateRoute component={LeconPrecise} path=\"/lesson/:id\"  />\r\n            <PrivateRoute component={Modification} path=\"/modification/:id\" />\r\n            <PrivateRoute component={ChapterModification} path=\"/modificationChapter/:id\" />\r\n            <PrivateRoute component={Addquiz} path=\"/createQuiz\" exact />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nfunction App() {\r\n    const [state, dispatch] = useReducer(reducer, initialState)\r\n    return (\r\n        <UserContext.Provider value={{state, dispatch}}>\r\n            <BrowserRouter>\r\n                <div className=\"content\">\r\n                    <Header/>\r\n                    <NavBar/>\r\n                    <Routing/>\r\n                </div>\r\n                <div className=\"footer\">\r\n                    <Footer/>  \r\n                </div>\r\n            </BrowserRouter>\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n        <React.StrictMode>\r\n                <App/>\r\n        </React.StrictMode>,\r\n\r\n  document.getElementById('root')\r\n);\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logoFeeDesMaths.66c6ea12.png\";"],"sourceRoot":""}